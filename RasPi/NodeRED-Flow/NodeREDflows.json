[
    {
        "id": "f4ca912b.d86bf8",
        "type": "tab",
        "label": "Connection",
        "disabled": false,
        "info": ""
    },
    {
        "id": "734a839.70af27c",
        "type": "tab",
        "label": "Login",
        "disabled": false,
        "info": ""
    },
    {
        "id": "304c61e3.487f3e",
        "type": "tab",
        "label": "Logout",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8dabec9e.c5e4a",
        "type": "tab",
        "label": "Main",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6cfd0ced.5ef174",
        "type": "tab",
        "label": "SendTags",
        "disabled": false,
        "info": ""
    },
    {
        "id": "f7f8c39.bc0dcc",
        "type": "tab",
        "label": "Reflection",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d0f291c6.2d3188",
        "type": "tab",
        "label": "Timer",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2b90fa41.6ed2b6",
        "type": "tab",
        "label": "new Phase",
        "disabled": false,
        "info": ""
    },
    {
        "id": "88a87013.34718",
        "type": "tab",
        "label": "new Method",
        "disabled": false,
        "info": ""
    },
    {
        "id": "3a1e4ba0.2c27f4",
        "type": "tab",
        "label": "Speech",
        "disabled": false,
        "info": ""
    },
    {
        "id": "bbfabbe9.5e1f6",
        "type": "tab",
        "label": "Skipping Descriptions",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1cab082b.fb38c8",
        "type": "tab",
        "label": "LED Control",
        "disabled": false,
        "info": ""
    },
    {
        "id": "33138393.b37e7c",
        "type": "tab",
        "label": "Pause",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2236be08.f07612",
        "type": "tab",
        "label": "Buttons",
        "disabled": true,
        "info": ""
    },
    {
        "id": "2758d48a.1f3994",
        "type": "ui_group",
        "z": "",
        "name": "RFID-RC522",
        "tab": "f215408f.074348",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false
    },
    {
        "id": "f215408f.074348",
        "type": "ui_tab",
        "z": "",
        "name": "Home",
        "icon": "dashboard",
        "order": 2
    },
    {
        "id": "9f27f93e.bf44b8",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "e3bbe880.9e7df",
        "type": "ui_tab",
        "z": "",
        "name": "Music Controls",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "651cba6b.4a1f8c",
        "type": "ui_group",
        "z": "",
        "name": "volume control",
        "tab": "e3bbe880.9e7df",
        "order": 2,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "41d3a102.40788",
        "type": "ui_group",
        "z": "",
        "name": "now playing",
        "tab": "e3bbe880.9e7df",
        "order": 1,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "26068bfd.35afdc",
        "type": "ui_group",
        "z": "",
        "name": "play controls",
        "tab": "e3bbe880.9e7df",
        "order": 3,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "18791f60.95a899",
        "type": "ui_group",
        "z": "",
        "name": "Shutdown Pi control",
        "tab": "e3bbe880.9e7df",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f1850f8b.15a5",
        "type": "Cache",
        "z": "",
        "name": "Data",
        "defaultTtl": "",
        "checkPeriod": ""
    },
    {
        "id": "88eb8b66.28014",
        "type": "Cache",
        "z": "",
        "name": "Control",
        "defaultTtl": "",
        "checkPeriod": ""
    },
    {
        "id": "e99911c9.493d68",
        "type": "Cache",
        "z": "",
        "name": "Connection",
        "defaultTtl": "",
        "checkPeriod": ""
    },
    {
        "id": "f6981a6.6541768",
        "type": "exec",
        "z": "8dabec9e.c5e4a",
        "command": "node",
        "addpay": false,
        "append": "/home/pi/DTDokuTool/rfidReader.js",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "RFID Reader",
        "x": 410,
        "y": 560,
        "wires": [
            [
                "59f26036.dd6c68"
            ],
            [],
            []
        ]
    },
    {
        "id": "3f91c924.bd25b6",
        "type": "trigger",
        "z": "8dabec9e.c5e4a",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1500,
        "y": 740,
        "wires": [
            [
                "59c991cb.2c19e8"
            ]
        ]
    },
    {
        "id": "59c991cb.2c19e8",
        "type": "rpi-gpio out",
        "z": "8dabec9e.c5e4a",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1660,
        "y": 740,
        "wires": []
    },
    {
        "id": "cf880bdd.7c9a",
        "type": "exec",
        "z": "734a839.70af27c",
        "command": "node",
        "addpay": false,
        "append": "/home/pi/DTDokuTool/rfidReaderLogin.js",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "RFID Reader",
        "x": 430,
        "y": 360,
        "wires": [
            [
                "8f3cce68.c404c8"
            ],
            [],
            []
        ]
    },
    {
        "id": "6d80517f.e829e8",
        "type": "exec",
        "z": "734a839.70af27c",
        "command": "node /home/pi/DTDokuTool/welcomeLoop.js",
        "addpay": false,
        "append": "",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "Welcome-Loop",
        "x": 440,
        "y": 460,
        "wires": [
            [
                "91ae6fe8.bf07e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "ac749156.fe8b38",
        "type": "link in",
        "z": "8dabec9e.c5e4a",
        "name": "Hauptphase",
        "links": [
            "e25af0ae.4b339",
            "c6f308de.124b8",
            "abc4b93d.13647"
        ],
        "x": 75,
        "y": 560,
        "wires": [
            [
                "31774bae.f08064",
                "4f8eaf45.66a448",
                "58273c1d.dd271c",
                "bb0b7c38.ea71f8"
            ]
        ]
    },
    {
        "id": "ff610b0c.9d267",
        "type": "rpi-gpio in",
        "z": "2236be08.f07612",
        "name": "Button Gelb",
        "pin": "40",
        "intype": "tri",
        "debounce": "25",
        "read": false,
        "x": 250,
        "y": 120,
        "wires": [
            [
                "5608b6ef.9dfa98"
            ]
        ]
    },
    {
        "id": "a7a53938.f965d",
        "type": "rpi-gpio in",
        "z": "2236be08.f07612",
        "name": "Button Blau",
        "pin": "38",
        "intype": "tri",
        "debounce": "25",
        "read": false,
        "x": 250,
        "y": 180,
        "wires": [
            [
                "33d3417.70345be"
            ]
        ]
    },
    {
        "id": "2ef6435f.57e354",
        "type": "rpi-gpio in",
        "z": "2236be08.f07612",
        "name": "Button Grün",
        "pin": "36",
        "intype": "tri",
        "debounce": "25",
        "read": false,
        "x": 250,
        "y": 240,
        "wires": [
            [
                "87a62a3e.26b508"
            ]
        ]
    },
    {
        "id": "4b0d31c9.fddfd",
        "type": "rpi-gpio in",
        "z": "2236be08.f07612",
        "name": "Button Rot",
        "pin": "32",
        "intype": "tri",
        "debounce": "25",
        "read": false,
        "x": 240,
        "y": 300,
        "wires": [
            [
                "b8018778.b587f"
            ]
        ]
    },
    {
        "id": "b8018778.b587f",
        "type": "function",
        "z": "2236be08.f07612",
        "name": "",
        "func": "if (msg.payload === 0) {\n    msg.payload = 'Der rote Button wurde gedrückt';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 300,
        "wires": [
            [
                "5f92ae2b.e8b418"
            ]
        ]
    },
    {
        "id": "87a62a3e.26b508",
        "type": "function",
        "z": "2236be08.f07612",
        "name": "",
        "func": "if (msg.payload === 0) {\n    msg.payload = 'Der grüne Button wurde gedrückt';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 240,
        "wires": [
            [
                "5f92ae2b.e8b418"
            ]
        ]
    },
    {
        "id": "33d3417.70345be",
        "type": "function",
        "z": "2236be08.f07612",
        "name": "",
        "func": "if (msg.payload === 0) {\n    msg.payload = 'Der blaue Button wurde gedrückt';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 180,
        "wires": [
            [
                "5f92ae2b.e8b418"
            ]
        ]
    },
    {
        "id": "5608b6ef.9dfa98",
        "type": "function",
        "z": "2236be08.f07612",
        "name": "",
        "func": "if (msg.payload === 0) {\n    msg.payload = 'Der gelbe Button wurde gedrückt';\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 460,
        "y": 120,
        "wires": [
            [
                "5f92ae2b.e8b418"
            ]
        ]
    },
    {
        "id": "7c0a417e.27bd8",
        "type": "rpi-gpio out",
        "z": "1cab082b.fb38c8",
        "name": "Blau LED",
        "pin": "29",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 480,
        "y": 120,
        "wires": []
    },
    {
        "id": "98c603a3.b732b",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Ein",
        "func": "msg.payload = 1;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "c404f151.cc298"
            ]
        ]
    },
    {
        "id": "60e62eac.51011",
        "type": "rpi-gpio out",
        "z": "1cab082b.fb38c8",
        "name": "Grün LED",
        "pin": "31",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1150,
        "y": 300,
        "wires": []
    },
    {
        "id": "ba4df56f.ccf558",
        "type": "rpi-gpio out",
        "z": "1cab082b.fb38c8",
        "name": "Rot LED",
        "pin": "33",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 480,
        "y": 360,
        "wires": []
    },
    {
        "id": "26999a5d.a90116",
        "type": "rpi-gpio out",
        "z": "1cab082b.fb38c8",
        "name": "Rot LED",
        "pin": "33",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1140,
        "y": 140,
        "wires": []
    },
    {
        "id": "c404f151.cc298",
        "type": "rpi-gpio out",
        "z": "1cab082b.fb38c8",
        "name": "Grün LED",
        "pin": "31",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 490,
        "y": 240,
        "wires": []
    },
    {
        "id": "edce83a4.ca57f",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Ein",
        "func": "msg.payload = 1;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 120,
        "wires": [
            [
                "7c0a417e.27bd8"
            ]
        ]
    },
    {
        "id": "63608eb6.bf503",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Ein",
        "func": "msg.payload = 1;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 330,
        "y": 360,
        "wires": [
            [
                "ba4df56f.ccf558"
            ]
        ]
    },
    {
        "id": "64ac9029.21e738",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Aus",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 990,
        "y": 300,
        "wires": [
            [
                "60e62eac.51011"
            ]
        ]
    },
    {
        "id": "6a19e1b2.5fa8b",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Aus",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 990,
        "y": 140,
        "wires": [
            [
                "26999a5d.a90116"
            ]
        ]
    },
    {
        "id": "a112003a.2d4e98",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "LED Blau ein",
        "links": [
            "ddf9642f.a09bc8",
            "2c17aa20.cddb36",
            "7925f9d.41fae88",
            "c33db22c.41c048",
            "25ad4bf7.b655ec",
            "c110c2fb.03f0b",
            "248e5950.aef73e",
            "63d58e5f.fa728",
            "a539eda0.19b08",
            "4ee57a2d.0292e4",
            "bb1cde4e.2eb988",
            "91982359.8bede",
            "3ef0fc2c.2c043c",
            "2f8744a3.1ab60c",
            "896ab69f.9984f8",
            "d6a60228.32a8c8",
            "bd28c69f.aa7a48",
            "dbf32d49.3f837",
            "521ebc46.fa6f8c",
            "4d33ebe9.1d6854",
            "6bc0ed43.330dbc",
            "8795367c.97abf8",
            "ababc252.53894"
        ],
        "x": 195,
        "y": 120,
        "wires": [
            [
                "edce83a4.ca57f",
                "94ba7bff.205408"
            ]
        ]
    },
    {
        "id": "1cefe3e8.30edfc",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "LED grün ein",
        "links": [
            "719c044d.ca7ea4",
            "e237d571.c0474",
            "fe9cadd1.3d9a58",
            "48676e61.d958",
            "dd946b7a.1c9208",
            "2bb99ab3.31aa96",
            "2ced9932.874a66",
            "8511097f.39628",
            "d352ba5.93ae9c8",
            "4f3ba338.f883d4",
            "e516514a.bfd468",
            "49709571.360f5c",
            "4c4915be.de744c",
            "c6f308de.124b8",
            "ffc08263.fc7e5",
            "e093623e.deea68",
            "a26f65e6.616e28",
            "686c19e0.17805",
            "d8f2ba6e.3dedb",
            "233d3529.39606a",
            "355738ee.b72758",
            "2f47bbc4.bcd0cc",
            "4b3bf2fd.531cec",
            "2678f66f.aec942",
            "c164d1e0.427e5",
            "fdd49344.ce39d8",
            "67c2572b.5c9b88",
            "f76ec1e3.573938",
            "3882e2eb.7be60e",
            "10de9bf4.3717ac",
            "3fa6beea.f7d012",
            "eec9495d.b16da"
        ],
        "x": 195,
        "y": 240,
        "wires": [
            [
                "98c603a3.b732b",
                "bd5538bc.fde3b8"
            ]
        ]
    },
    {
        "id": "9bd707ee.38169",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "LED grün aus",
        "links": [
            "912acb91.532ab8",
            "37e64b76.a43764",
            "3446cd85.d04ac2",
            "25ad4bf7.b655ec",
            "c110c2fb.03f0b",
            "b647d301.78a118",
            "248e5950.aef73e",
            "923798df.4c6e5",
            "bf6b0339.640d88",
            "880dd996.092318",
            "4cfc3690.9fa9a8",
            "16a46dc5.2b058a",
            "94ba7bff.205408",
            "7efa574f.1ae1a8",
            "a539eda0.19b08",
            "6307c7e0.32083",
            "4ee57a2d.0292e4",
            "bb1cde4e.2eb988",
            "4449be7.8e56bc",
            "91982359.8bede",
            "3ef0fc2c.2c043c",
            "124be9af.dd2a7e",
            "2f8744a3.1ab60c",
            "896ab69f.9984f8",
            "648bf0b2.9aec78",
            "d6a60228.32a8c8",
            "bd28c69f.aa7a48",
            "6d603490.da1cdc",
            "dbf32d49.3f837",
            "521ebc46.fa6f8c",
            "4d33ebe9.1d6854",
            "9772336a.2c2b8",
            "6bc0ed43.330dbc",
            "cb49a027.d504a",
            "1357e5e9.44ce2a",
            "b7301277.c3e928",
            "24230f2f.8aacb",
            "8795367c.97abf8",
            "e929f08f.587708"
        ],
        "x": 855,
        "y": 300,
        "wires": [
            [
                "64ac9029.21e738"
            ]
        ]
    },
    {
        "id": "7182a5f5.71bcfc",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "LED rot ein",
        "links": [
            "b647d301.78a118",
            "44ca8d07.187d4c",
            "923798df.4c6e5",
            "bf6b0339.640d88",
            "880dd996.092318",
            "394b7a7a.b04206",
            "235a7136.620856",
            "bad2179b.ab7598",
            "a3d915d9.655628",
            "f20ed928.6b1a28",
            "6307c7e0.32083",
            "a2997ed9.665408",
            "4449be7.8e56bc",
            "124be9af.dd2a7e",
            "648bf0b2.9aec78",
            "6d603490.da1cdc",
            "9772336a.2c2b8"
        ],
        "x": 195,
        "y": 360,
        "wires": [
            [
                "63608eb6.bf503",
                "7efa574f.1ae1a8"
            ]
        ]
    },
    {
        "id": "dfec9a72.4930a",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "LED rot aus",
        "links": [
            "7925f9d.41fae88",
            "c33db22c.41c048",
            "63d58e5f.fa728",
            "49709571.360f5c",
            "2bb99ab3.31aa96",
            "94ba7bff.205408",
            "4f3ba338.f883d4",
            "bd5538bc.fde3b8",
            "719c044d.ca7ea4",
            "e516514a.bfd468",
            "bb1cde4e.2eb988",
            "a26f65e6.616e28",
            "91982359.8bede",
            "3ef0fc2c.2c043c",
            "686c19e0.17805",
            "2f8744a3.1ab60c",
            "896ab69f.9984f8",
            "d8f2ba6e.3dedb",
            "d6a60228.32a8c8",
            "bd28c69f.aa7a48",
            "233d3529.39606a",
            "dbf32d49.3f837",
            "521ebc46.fa6f8c",
            "4d33ebe9.1d6854",
            "355738ee.b72758",
            "6bc0ed43.330dbc",
            "8795367c.97abf8"
        ],
        "x": 855,
        "y": 140,
        "wires": [
            [
                "6a19e1b2.5fa8b"
            ]
        ]
    },
    {
        "id": "719c044d.ca7ea4",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "",
        "links": [
            "1cefe3e8.30edfc",
            "84e14fe3.889238",
            "dfec9a72.4930a"
        ],
        "x": 215,
        "y": 300,
        "wires": []
    },
    {
        "id": "b7b6db37.76cab",
        "type": "exec",
        "z": "304c61e3.487f3e",
        "command": "sudo systemctl restart nodered.service",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Restart",
        "x": 1200,
        "y": 300,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "a307e25d.b45f1",
        "type": "exec",
        "z": "304c61e3.487f3e",
        "command": "sudo shutdown -h now",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Shutdown",
        "x": 1230,
        "y": 160,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "c3860c99.f8cdb8",
        "type": "Cache out",
        "z": "734a839.70af27c",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1530,
        "y": 400,
        "wires": []
    },
    {
        "id": "4cfaac12.0afa3c",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Topic für Cache",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 560,
        "wires": [
            [
                "5c2f7984.bf183"
            ]
        ]
    },
    {
        "id": "d40c0ee6.f908d",
        "type": "switch",
        "z": "8dabec9e.c5e4a",
        "name": "Logout?",
        "property": "logout",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1530,
        "y": 560,
        "wires": [
            [
                "bb051d89.706c38",
                "1dbbfb45.f96835"
            ],
            [
                "276c0eac.cb56c2",
                "dc73ff9.44d198"
            ]
        ]
    },
    {
        "id": "8d6fa289.515108",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Logout?",
        "func": "msg.logout = false;\nif (msg.data.team !== undefined) {\n    teamData = msg.data.team;\n    tagData = msg.payload;\n    if (teamData.uid === tagData.uid) {\n        msg.logout = true;\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 560,
        "wires": [
            [
                "d40c0ee6.f908d"
            ]
        ]
    },
    {
        "id": "276c0eac.cb56c2",
        "type": "link out",
        "z": "8dabec9e.c5e4a",
        "name": "LogoutHauptphaseOUT",
        "links": [
            "d475c6c1.a7f938"
        ],
        "x": 1685,
        "y": 660,
        "wires": []
    },
    {
        "id": "d475c6c1.a7f938",
        "type": "link in",
        "z": "304c61e3.487f3e",
        "name": "Logout",
        "links": [
            "276c0eac.cb56c2"
        ],
        "x": 145,
        "y": 180,
        "wires": [
            [
                "eba0efb2.c3c1d8",
                "1f1b0373.6de77d",
                "96688705.70f63"
            ]
        ]
    },
    {
        "id": "5f92ae2b.e8b418",
        "type": "exec",
        "z": "2236be08.f07612",
        "command": "~/DTDokuTool/sprachausgabe.sh",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Sprachausgabe",
        "x": 740,
        "y": 200,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "eba0efb2.c3c1d8",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "Text für TTS",
        "func": "msg.payload = 'Wollen Sie wirklich beenden. Für Herunterfahren drücken Sie Rot, für Logout Grün!'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 140,
        "wires": [
            [
                "2185ad67.f840ca"
            ]
        ]
    },
    {
        "id": "2185ad67.f840ca",
        "type": "link out",
        "z": "304c61e3.487f3e",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 415,
        "y": 140,
        "wires": []
    },
    {
        "id": "1f1b0373.6de77d",
        "type": "exec",
        "z": "304c61e3.487f3e",
        "command": "node /home/pi/DTDokuTool/checkButtonLoop",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButtonLoop",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "f2224e5e.e2598",
                "73e09077.ebe65"
            ],
            [],
            []
        ]
    },
    {
        "id": "d1b4ff4f.22db58",
        "type": "switch",
        "z": "8dabec9e.c5e4a",
        "name": "Neuer Status?",
        "property": "payload.statusChanged",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1160,
        "y": 560,
        "wires": [
            [
                "4e92be27.1d6f68"
            ],
            [
                "dc7a6475.05ec98",
                "8d6fa289.515108"
            ]
        ]
    },
    {
        "id": "59f26036.dd6c68",
        "type": "json",
        "z": "8dabec9e.c5e4a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 570,
        "y": 560,
        "wires": [
            [
                "4cfaac12.0afa3c"
            ]
        ]
    },
    {
        "id": "31774bae.f08064",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Text für TTS",
        "func": "msg.payload = 'Ihr könnt jetzt die Phasen-Figuren nutzen und auf den Reader stellen.'\n    + 'Phasen und Methoden werden automatisch protokolliert!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 460,
        "wires": [
            [
                "e064b64f.ebefd8"
            ]
        ]
    },
    {
        "id": "e064b64f.ebefd8",
        "type": "link out",
        "z": "8dabec9e.c5e4a",
        "name": "Begrüße in Hauptphase",
        "links": [
            "1e2575d4.ce0292",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 375,
        "y": 460,
        "wires": []
    },
    {
        "id": "dc7a6475.05ec98",
        "type": "switch",
        "z": "8dabec9e.c5e4a",
        "name": "Tag?",
        "property": "payload.uid",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1350,
        "y": 740,
        "wires": [
            [
                "3f91c924.bd25b6"
            ]
        ]
    },
    {
        "id": "9328db67.d221a",
        "type": "function",
        "z": "734a839.70af27c",
        "name": "Karte OK?",
        "func": "if (msg.payload) {\n    \n    const teamData = msg.payload;\n    if (teamData.team !== undefined && teamData.team !== '') {\n        \n        let members = teamData.members;\n        let text = 'Herzlich willkommen ' + teamData.team + '. ';\n        \n        for (let i = 0; members.length > 0; i++) {\n            const member = members.pop();\n            if (members.length >= 1) {\n                text += ' ' + member;\n            } else {\n                text += ' und ' + member + '. ';\n            }\n        }\n        \n        if (teamData.lastPhase && teamData.lastMethod) {\n            text += \"Zur Erinnerung: Zuletzt habt ihr in Phase \" + \n                teamData.lastPhase + ' mit der Methode ' + teamData.lastMethod + \n                ' gearbeitet.';\n        }        \n        \n        const msg1 = {\n            payload: text,\n            continue: true,\n            reflection: true\n        }\n        \n        if (!teamData.notReflectedMeeting) msg1.reflection = false;\n        \n        const msg2 = {\n            topic: 'Data',\n            data: {\n                team: teamData,\n                lastSend: Date.now()\n            }\n        }\n        \n        return [msg1, msg2];\n        \n    } else {\n        \n        let text = 'Das ist leider keine registrierte Teamkarte!'    \n    \n        const msg1 = {\n            payload: text,\n            continue: false\n        }\n        \n        const msg2 = {}\n        \n        return [msg1, msg2];\n    }\n}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1350,
        "y": 340,
        "wires": [
            [
                "6ca16c7b.e03b7c",
                "e3f9c900.5f9ac"
            ],
            [
                "c3860c99.f8cdb8"
            ]
        ]
    },
    {
        "id": "f2224e5e.e2598",
        "type": "json",
        "z": "304c61e3.487f3e",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 510,
        "y": 240,
        "wires": [
            [
                "9230c3e1.58ea3"
            ]
        ]
    },
    {
        "id": "9230c3e1.58ea3",
        "type": "switch",
        "z": "304c61e3.487f3e",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "none",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 640,
        "y": 240,
        "wires": [
            [
                "4e1c0537.84660c",
                "e225c79b.5e261",
                "d1686696.1fc89"
            ],
            [
                "aa835f41.4091e8",
                "e225c79b.5e261",
                "d1686696.1fc89"
            ],
            [
                "9c054cbd.ebc29"
            ]
        ]
    },
    {
        "id": "4e1c0537.84660c",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "Text für TTS",
        "func": "msg.payload = 'Das System wird heruntergefahren. Auf Wiedersehen!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 850,
        "y": 200,
        "wires": [
            [
                "392ac83e.9d1a88",
                "42830c4f.791fe4"
            ]
        ]
    },
    {
        "id": "aa835f41.4091e8",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "Text für TTS",
        "func": "msg.payload = 'Logout wird ausgeführt! Auf Wiedersehen!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 850,
        "y": 280,
        "wires": [
            [
                "6e798cef.cbf6c4",
                "42830c4f.791fe4"
            ]
        ]
    },
    {
        "id": "392ac83e.9d1a88",
        "type": "delay",
        "z": "304c61e3.487f3e",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1060,
        "y": 160,
        "wires": [
            [
                "a307e25d.b45f1"
            ]
        ]
    },
    {
        "id": "6e798cef.cbf6c4",
        "type": "delay",
        "z": "304c61e3.487f3e",
        "name": "",
        "pauseType": "delay",
        "timeout": "6",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1040,
        "y": 300,
        "wires": [
            [
                "b7b6db37.76cab"
            ]
        ]
    },
    {
        "id": "42830c4f.791fe4",
        "type": "link out",
        "z": "304c61e3.487f3e",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 995,
        "y": 200,
        "wires": []
    },
    {
        "id": "5e402975.b666e8",
        "type": "Cache out",
        "z": "8dabec9e.c5e4a",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "logout",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1870,
        "y": 600,
        "wires": []
    },
    {
        "id": "46ec5be6.3f13bc",
        "type": "Cache in",
        "z": "8dabec9e.c5e4a",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "logout",
        "useString": false,
        "outputs": 1,
        "x": 1870,
        "y": 520,
        "wires": [
            [
                "7e99920a.29cf24"
            ]
        ]
    },
    {
        "id": "33183cc4.41b84c",
        "type": "Cache out",
        "z": "304c61e3.487f3e",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "logout",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 980,
        "y": 400,
        "wires": []
    },
    {
        "id": "9c054cbd.ebc29",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "Set Topic",
        "func": "msg.topic = 'Logout';\nmsg.logout = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 840,
        "y": 400,
        "wires": [
            [
                "33183cc4.41b84c"
            ]
        ]
    },
    {
        "id": "cba5eece.9c7af",
        "type": "Cache out",
        "z": "8dabec9e.c5e4a",
        "name": "Logout",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "logout",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 380,
        "y": 660,
        "wires": []
    },
    {
        "id": "4f8eaf45.66a448",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Set Topic",
        "func": "msg.topic = 'logout';\nmsg.logout = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 660,
        "wires": [
            [
                "cba5eece.9c7af"
            ]
        ]
    },
    {
        "id": "bb051d89.706c38",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Set Topic",
        "func": "msg.topic = 'Logout';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1730,
        "y": 520,
        "wires": [
            [
                "46ec5be6.3f13bc"
            ]
        ]
    },
    {
        "id": "dc73ff9.44d198",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Set Topic",
        "func": "msg.topic = 'Logout'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1730,
        "y": 600,
        "wires": [
            [
                "5e402975.b666e8"
            ]
        ]
    },
    {
        "id": "9455ddaf.c7ee",
        "type": "json",
        "z": "734a839.70af27c",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1210,
        "y": 340,
        "wires": [
            [
                "9328db67.d221a"
            ]
        ]
    },
    {
        "id": "930365cf.1f8d08",
        "type": "file",
        "z": "734a839.70af27c",
        "name": "StartReading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 260,
        "y": 360,
        "wires": [
            [
                "cf880bdd.7c9a"
            ]
        ]
    },
    {
        "id": "6802015e.ee3658",
        "type": "Cache out",
        "z": "8dabec9e.c5e4a",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 690,
        "y": 720,
        "wires": []
    },
    {
        "id": "9c96913c.17f2c8",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Add Phase to Data",
        "func": "msg.data.phase = {\n    uid: '',\n    id: 0,\n    no: 0,\n    name: '',\n    description: '',\n    model: '',\n    methods: [],\n    protocolId: null,\n    timestamp: Date.now()\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 530,
        "y": 720,
        "wires": [
            [
                "6802015e.ee3658"
            ]
        ]
    },
    {
        "id": "c33db22c.41c048",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "LEDs schalten",
        "links": [
            "9bd707ee.38169",
            "a112003a.2d4e98",
            "dfec9a72.4930a"
        ],
        "x": 1775,
        "y": 160,
        "wires": []
    },
    {
        "id": "c6f308de.124b8",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "LEDs schalten",
        "links": [
            "1cefe3e8.30edfc",
            "ac749156.fe8b38"
        ],
        "x": 2435,
        "y": 380,
        "wires": []
    },
    {
        "id": "1e2575d4.ce0292",
        "type": "link in",
        "z": "3a1e4ba0.2c27f4",
        "name": "TTS",
        "links": [
            "109db266.1c2bf6",
            "2cb54a44.fee71e",
            "d38b42e4.41903",
            "4862986e.f1b858",
            "f0067705.b2c108",
            "7e68b177.926268",
            "91ae6fe8.bf07e8",
            "3d3f7fd3.417fa8",
            "2185ad67.f840ca",
            "e064b64f.ebefd8",
            "42830c4f.791fe4",
            "77b07d8.0f0ba04",
            "54b7d7e3.323ad8",
            "226c218e.b16396",
            "248e5950.aef73e",
            "62d94aa.700bbb4",
            "513bf74.0b6f708",
            "9ba609aa.43191",
            "20fdf603.18505a",
            "20d6e88b.7f686",
            "b35eb898.50f598",
            "c0719f68.640cf8",
            "dcd859e2.2e8b68",
            "6acf466.5ebffb8",
            "1bc26636.053932",
            "91322447.9a85b8",
            "1c10a265.e4357e",
            "188ba046.87ff5",
            "878c7340.01e2c8",
            "4868f615.f4643",
            "b1f39b70.6af2d",
            "e09354f9.cb3fa8",
            "4c4915be.de744c",
            "63a7efb.18a8b9",
            "f98553f0.121518",
            "ab74b606.f1cf4",
            "ed44c238.67a568",
            "c89b8.cb38fe48",
            "b47b3ab2.fabe2",
            "fd45609b.b9dbd",
            "3172c45a.790514",
            "8ff0b4ce.b86a78",
            "c139bd15.8a07f8",
            "955f1d30.ef5968",
            "b377ef30.b61388",
            "630a0ccb.7977b4",
            "d368be8b.cbd9c8",
            "3ba31f17.82d7d",
            "609281de.8030e8"
        ],
        "x": 155,
        "y": 180,
        "wires": [
            [
                "61fa7b2e.c064a4"
            ]
        ]
    },
    {
        "id": "273cd020.caeb38",
        "type": "exec",
        "z": "3a1e4ba0.2c27f4",
        "command": "node ",
        "addpay": false,
        "append": "~/DTDokuTool/googleTTS.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Sprachausgabe",
        "x": 720,
        "y": 180,
        "wires": [
            [
                "337ff834.d37518",
                "137dc69d.4fa421"
            ],
            [],
            []
        ]
    },
    {
        "id": "61fa7b2e.c064a4",
        "type": "file",
        "z": "3a1e4ba0.2c27f4",
        "name": "Schreibe Text-Datei",
        "filename": "/home/pi/DTDokuTool/temp/vorleseText.txt",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 300,
        "y": 180,
        "wires": [
            [
                "2df23b58.67ce5c",
                "7925f9d.41fae88"
            ]
        ]
    },
    {
        "id": "6ca16c7b.e03b7c",
        "type": "file",
        "z": "734a839.70af27c",
        "name": "Set TTS-Text",
        "filename": "/home/pi/DTDokuTool/temp/vorleseText.txt",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1540,
        "y": 340,
        "wires": [
            [
                "3ede00e4.591c2"
            ]
        ]
    },
    {
        "id": "b4df9884.a0d3a8",
        "type": "exec",
        "z": "734a839.70af27c",
        "command": "node ",
        "addpay": false,
        "append": "~/DTDokuTool/googleTTS.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Sprachausgabe",
        "x": 1940,
        "y": 340,
        "wires": [
            [
                "1dd6cafc.65c18d"
            ],
            [],
            []
        ]
    },
    {
        "id": "510fd85.e425428",
        "type": "inject",
        "z": "f4ca912b.d86bf8",
        "name": "Starter",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "15",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "Hallo, ich bin bereit. Bitte loggt euch mit eurer Teamkarte ein!",
        "payloadType": "str",
        "x": 120,
        "y": 260,
        "wires": [
            [
                "cc961b2f.acbd18",
                "68f09b8e.f7cbcc"
            ]
        ]
    },
    {
        "id": "12320c96.fd9e1b",
        "type": "link in",
        "z": "734a839.70af27c",
        "name": "Login",
        "links": [
            "ad136cd9.e687b8",
            "9c0ae03c.5b4348"
        ],
        "x": 95,
        "y": 380,
        "wires": [
            [
                "719c044d.ca7ea4",
                "930365cf.1f8d08",
                "c55bf95e.5e119",
                "25155861.94ac48"
            ]
        ]
    },
    {
        "id": "cc961b2f.acbd18",
        "type": "http request",
        "z": "f4ca912b.d86bf8",
        "name": "Check Connection",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.48:3000/checkConnection",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 310,
        "y": 260,
        "wires": [
            [
                "58e4bb6.3b232c4"
            ]
        ]
    },
    {
        "id": "58e4bb6.3b232c4",
        "type": "switch",
        "z": "f4ca912b.d86bf8",
        "name": "Connection OK?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "OK",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 510,
        "y": 260,
        "wires": [
            [
                "3bd05332.9296c4"
            ],
            [
                "9e65f7aa.b6226"
            ]
        ]
    },
    {
        "id": "d34f44e0.716d68",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "",
        "func": "if (!msg.connection) msg.connection = {};\nif (!msg.connection.loggedOut) {   \n    msg.payload = 'Keine Verbindung zum Server möglich.';\n    msg.topic = null;\n    if (msg.connection.auth !== null) {\n        msg.connection.auth = {\n            accessToken: '',\n            expireTime: 0\n        };\n    }\n    \n    msg.connection.connectionOK = false;\n    msg.topic = 'Connection';\n    \n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 400,
        "wires": [
            [
                "a3d915d9.655628",
                "9867acd9.add558",
                "ee17c0c1.ed25c",
                "8eb78c93.84a0f"
            ]
        ]
    },
    {
        "id": "a3d915d9.655628",
        "type": "link out",
        "z": "f4ca912b.d86bf8",
        "name": "CheckConnection Failed OUT",
        "links": [
            "7182a5f5.71bcfc",
            "1e2575d4.ce0292"
        ],
        "x": 575,
        "y": 400,
        "wires": []
    },
    {
        "id": "3ede00e4.591c2",
        "type": "exec",
        "z": "734a839.70af27c",
        "command": "killall mplayer",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Stoppe Player",
        "x": 1740,
        "y": 340,
        "wires": [
            [
                "b4df9884.a0d3a8"
            ],
            [],
            []
        ]
    },
    {
        "id": "2df23b58.67ce5c",
        "type": "exec",
        "z": "3a1e4ba0.2c27f4",
        "command": "killall mplayer",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Stoppe Player",
        "x": 520,
        "y": 180,
        "wires": [
            [
                "273cd020.caeb38"
            ],
            [],
            []
        ]
    },
    {
        "id": "1dd6cafc.65c18d",
        "type": "switch",
        "z": "734a839.70af27c",
        "name": "Login OK?",
        "property": "continue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2130,
        "y": 340,
        "wires": [
            [
                "5b254f45.d6df58",
                "1ba25870.2ee1e8"
            ],
            [
                "83927ee1.5f6398"
            ]
        ]
    },
    {
        "id": "83927ee1.5f6398",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "LEDs schalten",
        "links": [
            "71e2247d.9199b4"
        ],
        "x": 2275,
        "y": 420,
        "wires": []
    },
    {
        "id": "e3f9c900.5f9ac",
        "type": "switch",
        "z": "734a839.70af27c",
        "name": "Login erfolgreich?",
        "property": "continue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1590,
        "y": 180,
        "wires": [
            [
                "c33db22c.41c048",
                "d2d7c070.60de88",
                "5d0f4278.3d8304",
                "e2833e84.04719"
            ],
            [
                "f20ed928.6b1a28"
            ]
        ]
    },
    {
        "id": "f20ed928.6b1a28",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "LEDs schalten",
        "links": [
            "71e2247d.9199b4"
        ],
        "x": 1775,
        "y": 240,
        "wires": []
    },
    {
        "id": "91ae6fe8.bf07e8",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 575,
        "y": 460,
        "wires": []
    },
    {
        "id": "7925f9d.41fae88",
        "type": "link out",
        "z": "3a1e4ba0.2c27f4",
        "name": "LEDs schalten",
        "links": [
            "9bd707ee.38169",
            "a112003a.2d4e98",
            "dfec9a72.4930a"
        ],
        "x": 475,
        "y": 240,
        "wires": []
    },
    {
        "id": "6a2d8417.27937c",
        "type": "switch",
        "z": "3a1e4ba0.2c27f4",
        "name": "",
        "property": "LED",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "blue",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1170,
        "y": 180,
        "wires": [
            [
                "44ca8d07.187d4c"
            ],
            [
                "2bb99ab3.31aa96"
            ],
            [
                "63d58e5f.fa728"
            ]
        ]
    },
    {
        "id": "b382be50.3452",
        "type": "Cache in",
        "z": "3a1e4ba0.2c27f4",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "useString": false,
        "outputs": 1,
        "x": 1040,
        "y": 180,
        "wires": [
            [
                "6a2d8417.27937c"
            ]
        ]
    },
    {
        "id": "337ff834.d37518",
        "type": "function",
        "z": "3a1e4ba0.2c27f4",
        "name": "Set Topic",
        "func": "msg.topic = 'LED'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 900,
        "y": 180,
        "wires": [
            [
                "b382be50.3452"
            ]
        ]
    },
    {
        "id": "44ca8d07.187d4c",
        "type": "link out",
        "z": "3a1e4ba0.2c27f4",
        "name": "",
        "links": [
            "7182a5f5.71bcfc",
            "84e14fe3.889238",
            "9bd707ee.38169"
        ],
        "x": 1285,
        "y": 140,
        "wires": []
    },
    {
        "id": "2bb99ab3.31aa96",
        "type": "link out",
        "z": "3a1e4ba0.2c27f4",
        "name": "",
        "links": [
            "1cefe3e8.30edfc",
            "84e14fe3.889238",
            "dfec9a72.4930a"
        ],
        "x": 1285,
        "y": 180,
        "wires": []
    },
    {
        "id": "63d58e5f.fa728",
        "type": "link out",
        "z": "3a1e4ba0.2c27f4",
        "name": "",
        "links": [
            "9bd707ee.38169",
            "a112003a.2d4e98",
            "dfec9a72.4930a"
        ],
        "x": 1285,
        "y": 220,
        "wires": []
    },
    {
        "id": "6072072c.7b0ec",
        "type": "exec",
        "z": "f4ca912b.d86bf8",
        "command": "node /home/pi/DTDokuTool/getLoginData.js",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Hole Login Daten",
        "x": 1270,
        "y": 260,
        "wires": [
            [
                "42754b82.064654"
            ],
            [
                "20d6e88b.7f686"
            ],
            []
        ]
    },
    {
        "id": "ea55336.9be47d",
        "type": "Cache out",
        "z": "f4ca912b.d86bf8",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2030,
        "y": 200,
        "wires": []
    },
    {
        "id": "42754b82.064654",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Create Body",
        "func": "if (msg.payload !== '') {\n    msg.payload = JSON.parse(msg.payload);\n    msg.auth = msg.payload;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1490,
        "y": 200,
        "wires": [
            [
                "19d75e5e.044502"
            ]
        ]
    },
    {
        "id": "9c0ae03c.5b4348",
        "type": "link out",
        "z": "f4ca912b.d86bf8",
        "name": "CheckConnection OUT",
        "links": [
            "12320c96.fd9e1b"
        ],
        "x": 2155,
        "y": 260,
        "wires": []
    },
    {
        "id": "19d75e5e.044502",
        "type": "http request",
        "z": "f4ca912b.d86bf8",
        "name": "Login Device",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.0.48:3000/login",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1650,
        "y": 200,
        "wires": [
            [
                "9fb331de.98654"
            ]
        ]
    },
    {
        "id": "9fb331de.98654",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Set Cache Data",
        "func": "msg.newStart = !msg.connection.alreadyRunning;\nif (msg.newStart) {\n    msg.connection.alreadyRunning = true;\n}\n\nif(!msg.connection.auth) msg.connection.auth = {};\nmsg.payload = JSON.parse(msg.payload);\nmsg.connection.auth.accessToken = msg.payload.accessToken;\nmsg.connection.auth.expireTime = msg.payload.expireTime;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1820,
        "y": 200,
        "wires": [
            [
                "ea55336.9be47d",
                "47918317.0eac24"
            ]
        ]
    },
    {
        "id": "96688705.70f63",
        "type": "file",
        "z": "304c61e3.487f3e",
        "name": "Stoppe Button-Aktivität",
        "filename": "/home/pi/DTDokuTool/temp/vorlesen.tmp",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 350,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "e4455602.f1cc",
        "type": "Cache in",
        "z": "f4ca912b.d86bf8",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 870,
        "y": 260,
        "wires": [
            [
                "d3743a53.c213",
                "f6a73271.b88ab",
                "2846fe50.0f2c22"
            ]
        ]
    },
    {
        "id": "d3743a53.c213",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Token needed?",
        "func": "//Neuer Token, wenn noh kein Token vorhanden, oder Token nur noch höchstens 10 min gültig\nif (!msg.connection) msg.connection = {};\nconst authOld = msg.connection.auth;\nif (!authOld || authOld.accessToken === '' || authOld.expireTime - 600000 < Date.now()) {\n    msg.connection.connectionOK = true;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1080,
        "y": 260,
        "wires": [
            [
                "6072072c.7b0ec"
            ]
        ]
    },
    {
        "id": "f6a73271.b88ab",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "",
        "func": "if (!msg.connection) msg.connection = {};\nconst authOld = msg.connection.auth;\nif (authOld && authOld.accessToken === '' && !msg.connection.loggedOut) {\n    msg.payload = 'Verbindung wieder hergestellt!';\n    msg.LED = 'green'\n    msg.topic = 'LED';\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1060,
        "y": 320,
        "wires": [
            [
                "4c4915be.de744c",
                "30b9b3eb.64a06c",
                "e983f180.bca1"
            ]
        ]
    },
    {
        "id": "4c4915be.de744c",
        "type": "link out",
        "z": "f4ca912b.d86bf8",
        "name": "CheckConnection Failed OUT",
        "links": [
            "1cefe3e8.30edfc",
            "1e2575d4.ce0292"
        ],
        "x": 1215,
        "y": 320,
        "wires": []
    },
    {
        "id": "9e65f7aa.b6226",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 120,
        "y": 400,
        "wires": [
            [
                "38cbfba4.30753c"
            ]
        ]
    },
    {
        "id": "38cbfba4.30753c",
        "type": "Cache in",
        "z": "f4ca912b.d86bf8",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 270,
        "y": 400,
        "wires": [
            [
                "d34f44e0.716d68"
            ]
        ]
    },
    {
        "id": "65a6776e.4028",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "",
        "func": "msg.connection.auth.accessToken = '';\nmsg.connection.loggedOut = true;\n\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1180,
        "y": 240,
        "wires": [
            [
                "3f055ee0.57ce72"
            ]
        ]
    },
    {
        "id": "e225c79b.5e261",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 840,
        "y": 240,
        "wires": [
            [
                "449a55dd.148914"
            ]
        ]
    },
    {
        "id": "449a55dd.148914",
        "type": "Cache in",
        "z": "304c61e3.487f3e",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 1030,
        "y": 240,
        "wires": [
            [
                "65a6776e.4028"
            ]
        ]
    },
    {
        "id": "8e90d54f.6baf4",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Aus",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 990,
        "y": 220,
        "wires": [
            [
                "3da9d410.8f6ed4"
            ]
        ]
    },
    {
        "id": "3da9d410.8f6ed4",
        "type": "rpi-gpio out",
        "z": "1cab082b.fb38c8",
        "name": "Blau LED",
        "pin": "29",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1140,
        "y": 220,
        "wires": []
    },
    {
        "id": "84e14fe3.889238",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "LED blau aus",
        "links": [
            "f8a086a8.999a48",
            "e237d571.c0474",
            "fe9cadd1.3d9a58",
            "dd946b7a.1c9208",
            "923798df.4c6e5",
            "2ced9932.874a66",
            "bf6b0339.640d88",
            "8511097f.39628",
            "880dd996.092318",
            "d352ba5.93ae9c8",
            "4f3ba338.f883d4",
            "e516514a.bfd468",
            "49709571.360f5c",
            "ea3db6ad.0daec8",
            "bd5538bc.fde3b8",
            "7efa574f.1ae1a8",
            "6307c7e0.32083",
            "e093623e.deea68",
            "4449be7.8e56bc",
            "a26f65e6.616e28",
            "124be9af.dd2a7e",
            "686c19e0.17805",
            "648bf0b2.9aec78",
            "d8f2ba6e.3dedb",
            "6d603490.da1cdc",
            "233d3529.39606a",
            "9772336a.2c2b8",
            "355738ee.b72758",
            "fb81025f.17e238"
        ],
        "x": 855,
        "y": 220,
        "wires": [
            [
                "8e90d54f.6baf4"
            ]
        ]
    },
    {
        "id": "30b9b3eb.64a06c",
        "type": "Cache out",
        "z": "f4ca912b.d86bf8",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1260,
        "y": 380,
        "wires": []
    },
    {
        "id": "9867acd9.add558",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Speichere LED",
        "func": "msg.LED = 'red'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 640,
        "y": 460,
        "wires": [
            [
                "747cddcc.d3e3a4",
                "a2997ed9.665408"
            ]
        ]
    },
    {
        "id": "747cddcc.d3e3a4",
        "type": "Cache out",
        "z": "f4ca912b.d86bf8",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 820,
        "y": 460,
        "wires": []
    },
    {
        "id": "68f09b8e.f7cbcc",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Speichere LED",
        "func": "msg.LED = 'green'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 340,
        "y": 160,
        "wires": [
            [
                "db269f60.af4758"
            ]
        ]
    },
    {
        "id": "db269f60.af4758",
        "type": "Cache out",
        "z": "f4ca912b.d86bf8",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 500,
        "y": 160,
        "wires": []
    },
    {
        "id": "5b254f45.d6df58",
        "type": "function",
        "z": "734a839.70af27c",
        "name": "Set LED",
        "func": "msg.LED = 'green';\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2340,
        "y": 240,
        "wires": [
            [
                "d0f6e69c.6b1a98"
            ]
        ]
    },
    {
        "id": "d0f6e69c.6b1a98",
        "type": "Cache out",
        "z": "734a839.70af27c",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2480,
        "y": 240,
        "wires": []
    },
    {
        "id": "d2d7c070.60de88",
        "type": "function",
        "z": "734a839.70af27c",
        "name": "Set LED",
        "func": "msg.LED = 'blue';\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1820,
        "y": 200,
        "wires": [
            [
                "4eff60c5.bbc9c8"
            ]
        ]
    },
    {
        "id": "4eff60c5.bbc9c8",
        "type": "Cache out",
        "z": "734a839.70af27c",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1960,
        "y": 200,
        "wires": []
    },
    {
        "id": "c55bf95e.5e119",
        "type": "function",
        "z": "734a839.70af27c",
        "name": "Speichere LED",
        "func": "msg.LED = 'green'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 280,
        "y": 240,
        "wires": [
            [
                "95f87a4e.f354c8"
            ]
        ]
    },
    {
        "id": "95f87a4e.f354c8",
        "type": "Cache out",
        "z": "734a839.70af27c",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 440,
        "y": 240,
        "wires": []
    },
    {
        "id": "71e2247d.9199b4",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "Rot 5s",
        "links": [
            "83927ee1.5f6398",
            "f20ed928.6b1a28",
            "62d94aa.700bbb4",
            "513bf74.0b6f708",
            "20fdf603.18505a"
        ],
        "x": 195,
        "y": 620,
        "wires": [
            [
                "bfc01592.997f48",
                "e83dc544.b3904",
                "394b7a7a.b04206"
            ]
        ]
    },
    {
        "id": "bfc01592.997f48",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Set LED",
        "func": "msg.LED = 'red';\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 340,
        "y": 620,
        "wires": [
            [
                "900377c1.a8ff28"
            ]
        ]
    },
    {
        "id": "900377c1.a8ff28",
        "type": "Cache out",
        "z": "1cab082b.fb38c8",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 480,
        "y": 620,
        "wires": []
    },
    {
        "id": "e83dc544.b3904",
        "type": "delay",
        "z": "1cab082b.fb38c8",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 360,
        "y": 560,
        "wires": [
            [
                "2cebde8f.7b11b2",
                "4f3ba338.f883d4"
            ]
        ]
    },
    {
        "id": "394b7a7a.b04206",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "LEDs schalten",
        "links": [
            "7182a5f5.71bcfc"
        ],
        "x": 295,
        "y": 680,
        "wires": []
    },
    {
        "id": "2cebde8f.7b11b2",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Set LED",
        "func": "msg.LED = 'green';\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 500,
        "wires": [
            [
                "3572ecf8.485524"
            ]
        ]
    },
    {
        "id": "3572ecf8.485524",
        "type": "Cache out",
        "z": "1cab082b.fb38c8",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 720,
        "y": 500,
        "wires": []
    },
    {
        "id": "4f3ba338.f883d4",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "LEDs schalten",
        "links": [
            "1cefe3e8.30edfc",
            "84e14fe3.889238",
            "dfec9a72.4930a"
        ],
        "x": 525,
        "y": 560,
        "wires": []
    },
    {
        "id": "7efa574f.1ae1a8",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "84e14fe3.889238",
            "9bd707ee.38169"
        ],
        "x": 295,
        "y": 300,
        "wires": []
    },
    {
        "id": "94ba7bff.205408",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "9bd707ee.38169",
            "dfec9a72.4930a"
        ],
        "x": 295,
        "y": 60,
        "wires": []
    },
    {
        "id": "bd5538bc.fde3b8",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "84e14fe3.889238",
            "dfec9a72.4930a"
        ],
        "x": 295,
        "y": 180,
        "wires": []
    },
    {
        "id": "2846fe50.0f2c22",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Save Connection",
        "func": "if (!msg.connection) msg.connection = {};\nmsg.connection.connectionOK = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1090,
        "y": 200,
        "wires": [
            [
                "bd82f33f.d1a458"
            ]
        ]
    },
    {
        "id": "bd82f33f.d1a458",
        "type": "Cache out",
        "z": "f4ca912b.d86bf8",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1270,
        "y": 200,
        "wires": []
    },
    {
        "id": "ee17c0c1.ed25c",
        "type": "Cache out",
        "z": "f4ca912b.d86bf8",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 630,
        "y": 340,
        "wires": []
    },
    {
        "id": "8eb78c93.84a0f",
        "type": "file",
        "z": "f4ca912b.d86bf8",
        "name": "Stop Welcome",
        "filename": "/home/pi/DTDokuTool/temp/continueWelcomeLoop.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 640,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "ffafe68a.3551b",
        "type": "file",
        "z": "f4ca912b.d86bf8",
        "name": "Start Welcome",
        "filename": "/home/pi/DTDokuTool/temp/continueWelcomeLoop.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1700,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "25155861.94ac48",
        "type": "file",
        "z": "734a839.70af27c",
        "name": "Start Welcome",
        "filename": "/home/pi/DTDokuTool/temp/continueWelcomeLoop.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 260,
        "y": 460,
        "wires": [
            [
                "6d80517f.e829e8"
            ]
        ]
    },
    {
        "id": "5c2f7984.bf183",
        "type": "Cache in",
        "z": "8dabec9e.c5e4a",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 870,
        "y": 560,
        "wires": [
            [
                "8e30d180.6f1e3",
                "d751e555.0711c"
            ]
        ]
    },
    {
        "id": "5a9d25a.b3e94dc",
        "type": "Cache in",
        "z": "f4ca912b.d86bf8",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 1390,
        "y": 440,
        "wires": [
            [
                "e2ae296b.1e2f8"
            ]
        ]
    },
    {
        "id": "e983f180.bca1",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1260,
        "y": 440,
        "wires": [
            [
                "5a9d25a.b3e94dc"
            ]
        ]
    },
    {
        "id": "fe9995eb.d7e13",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "",
        "func": "const newPhase = msg.payload;\nconst lastPhase = msg.data.phase;\n\nif (newPhase && newPhase.name !== lastPhase.name) {\n    \n    let msg1 = {\n        topic: 'Data',\n        data: msg.data,\n    }\n    \n    msg1.data.phase = newPhase;\n    msg1.data.start = false;\n    \n    if (newPhase.no !== 0) {\n        if (newPhase.continuePhase) {\n            msg1.payload = 'Die Phase' + newPhase.no + ', ' + newPhase.name +\n                ' wird fortgesetzt. Die ausgewählte Methode ist weiter ' +\n                newPhase.method.title + '.';\n            msg1.data.newPhaseStep = msg.data.newPhaseStep - 1;\n        } else {\n            msg1.payload = 'Ihr beginnt jetzt mit Phase ' + newPhase.no +\n                ', ' + newPhase.name + '. Die ausgewählte Methode ist ' +\n                newPhase.method.title + '.';\n            msg1.data.newPhaseStep = 0;\n        }\n        \n        msg1.processStatus = 'start';\n        msg1.data.reading = true;\n    } else {\n        msg1.payload = 'Ihr habt gerade Phase ' + lastPhase.no + \n            ', ' + lastPhase.name + ' beendet.';\n        msg1.processStatus = 'end';\n        msg1.topic = 'Data';\n        msg1.data.reading = false;\n    }\n    \n    return msg1;\n}\n    ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1680,
        "y": 360,
        "wires": [
            [
                "51e6dcc4.5ad99c",
                "5883338e.064d64"
            ]
        ]
    },
    {
        "id": "51e6dcc4.5ad99c",
        "type": "Cache out",
        "z": "6cfd0ced.5ef174",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1870,
        "y": 320,
        "wires": []
    },
    {
        "id": "5883338e.064d64",
        "type": "switch",
        "z": "6cfd0ced.5ef174",
        "name": "Start oder Ende?",
        "property": "processStatus",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "start",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "end",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1890,
        "y": 400,
        "wires": [
            [
                "64206e87.ad44a"
            ],
            [
                "4868f615.f4643",
                "ca5c7de5.4b59a8",
                "7f0361f2.1ff0a8",
                "db65eb04.ce9f18"
            ]
        ]
    },
    {
        "id": "64206e87.ad44a",
        "type": "link out",
        "z": "6cfd0ced.5ef174",
        "name": "",
        "links": [
            "4451701d.3f1558",
            "76d7d467.11b484"
        ],
        "x": 2095,
        "y": 300,
        "wires": []
    },
    {
        "id": "5301b38d.158f6c",
        "type": "json",
        "z": "6cfd0ced.5ef174",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1090,
        "y": 360,
        "wires": [
            [
                "33a51efd.1a819a"
            ]
        ]
    },
    {
        "id": "33a51efd.1a819a",
        "type": "switch",
        "z": "6cfd0ced.5ef174",
        "name": "Ist eine Phase?",
        "property": "payload.phase",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ERROR",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1240,
        "y": 360,
        "wires": [
            [
                "6acbfdb9.d70fa4"
            ],
            [
                "85bb8690.86df2"
            ]
        ]
    },
    {
        "id": "20fdf603.18505a",
        "type": "link out",
        "z": "6cfd0ced.5ef174",
        "name": "LEDs schalten",
        "links": [
            "1e2575d4.ce0292",
            "71e2247d.9199b4",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 1615,
        "y": 260,
        "wires": []
    },
    {
        "id": "6acbfdb9.d70fa4",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Error Ausgabe",
        "func": "msg.payload = 'Das ist leider keine Phasen-Figur!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1500,
        "y": 260,
        "wires": [
            [
                "20fdf603.18505a"
            ]
        ]
    },
    {
        "id": "48dfbcc9.c95a6c",
        "type": "http request",
        "z": "6cfd0ced.5ef174",
        "name": "SendTag",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.48:3000/phase",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 960,
        "y": 360,
        "wires": [
            [
                "5301b38d.158f6c"
            ]
        ]
    },
    {
        "id": "3017f34d.6c5b1c",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: msg.data.phase,\n    tag: msg.payload\n}\n\nconst uid = msg.payload.tag.uid;\nif (uid !== undefined && uid !== '') {\n    msg.payload.tag.protocolId = msg.data.phase.protocolId;\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 360,
        "wires": [
            [
                "48dfbcc9.c95a6c"
            ]
        ]
    },
    {
        "id": "5a5f349.f6e9dcc",
        "type": "Cache in",
        "z": "6cfd0ced.5ef174",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 390,
        "y": 360,
        "wires": [
            [
                "66ac9c83.100514"
            ]
        ]
    },
    {
        "id": "1ceb682e.efd28",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 360,
        "wires": [
            [
                "5a5f349.f6e9dcc"
            ]
        ]
    },
    {
        "id": "b0d7f9a6.44b03",
        "type": "link in",
        "z": "6cfd0ced.5ef174",
        "name": "SendePhasenTags",
        "links": [
            "7e99920a.29cf24",
            "8274a150.fa74c",
            "d37f45be.72bcf8",
            "2e3ba079.676a8"
        ],
        "x": 135,
        "y": 360,
        "wires": [
            [
                "1ceb682e.efd28"
            ]
        ]
    },
    {
        "id": "7e99920a.29cf24",
        "type": "link out",
        "z": "8dabec9e.c5e4a",
        "name": "SendePhasenTagsOUT",
        "links": [
            "b0d7f9a6.44b03",
            "2640d25f.bdc52e"
        ],
        "x": 2015,
        "y": 420,
        "wires": []
    },
    {
        "id": "e2833e84.04719",
        "type": "file",
        "z": "734a839.70af27c",
        "name": "Stop Welcome",
        "filename": "/home/pi/DTDokuTool/temp/continueWelcomeLoop.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 1840,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "5d0f4278.3d8304",
        "type": "file",
        "z": "734a839.70af27c",
        "name": "Stop Reading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 1840,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3f055ee0.57ce72",
        "type": "file",
        "z": "304c61e3.487f3e",
        "name": "Stop Reading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 1340,
        "y": 240,
        "wires": [
            [
                "277ec714.205a18"
            ]
        ]
    },
    {
        "id": "277ec714.205a18",
        "type": "Cache out",
        "z": "304c61e3.487f3e",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1510,
        "y": 240,
        "wires": []
    },
    {
        "id": "58273c1d.dd271c",
        "type": "file",
        "z": "8dabec9e.c5e4a",
        "name": "StartReading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 240,
        "y": 560,
        "wires": [
            [
                "f6981a6.6541768"
            ]
        ]
    },
    {
        "id": "e2ae296b.1e2f8",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Team leer?",
        "func": "if (msg.data && !msg.data.team) {\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1530,
        "y": 440,
        "wires": [
            [
                "ffafe68a.3551b"
            ]
        ]
    },
    {
        "id": "bb0b7c38.ea71f8",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 720,
        "wires": [
            [
                "e1be7d2.c7042"
            ]
        ]
    },
    {
        "id": "e1be7d2.c7042",
        "type": "Cache in",
        "z": "8dabec9e.c5e4a",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 720,
        "wires": [
            [
                "9c96913c.17f2c8"
            ]
        ]
    },
    {
        "id": "4c296e41.4d674",
        "type": "Cache in",
        "z": "6cfd0ced.5ef174",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 670,
        "y": 360,
        "wires": [
            [
                "3017f34d.6c5b1c"
            ]
        ]
    },
    {
        "id": "66ac9c83.100514",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 360,
        "wires": [
            [
                "4c296e41.4d674"
            ]
        ]
    },
    {
        "id": "3bd05332.9296c4",
        "type": "function",
        "z": "f4ca912b.d86bf8",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 700,
        "y": 260,
        "wires": [
            [
                "e4455602.f1cc"
            ]
        ]
    },
    {
        "id": "15e5da8b.d8404d",
        "type": "Cache out",
        "z": "8dabec9e.c5e4a",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1860,
        "y": 460,
        "wires": []
    },
    {
        "id": "4e92be27.1d6f68",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Letzte Übertragung 5 Sekunden her?",
        "func": "if (msg.data.lastSend + 5000 <= Date.now()) {\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1450,
        "y": 420,
        "wires": [
            [
                "1dbbfb45.f96835",
                "7e99920a.29cf24"
            ]
        ]
    },
    {
        "id": "efd5dc1d.d311c",
        "type": "trigger",
        "z": "734a839.70af27c",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 850,
        "y": 280,
        "wires": [
            [
                "6d427a5b.50b10c"
            ]
        ]
    },
    {
        "id": "6d427a5b.50b10c",
        "type": "rpi-gpio out",
        "z": "734a839.70af27c",
        "name": "",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1020,
        "y": 280,
        "wires": []
    },
    {
        "id": "4dfcc41e.20b744",
        "type": "http request",
        "z": "734a839.70af27c",
        "name": "Login Team",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.48:3000/loginTeam",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1070,
        "y": 340,
        "wires": [
            [
                "9455ddaf.c7ee"
            ]
        ]
    },
    {
        "id": "8f3cce68.c404c8",
        "type": "function",
        "z": "734a839.70af27c",
        "name": "Set Topic",
        "func": "msg.payload = JSON.parse(msg.payload);\nif (msg.payload.statusChanged && msg.payload.uid !== '') {\n    msg.topic = 'Connection';\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 620,
        "y": 340,
        "wires": [
            [
                "520075f1.464d0c",
                "efd5dc1d.d311c"
            ]
        ]
    },
    {
        "id": "520075f1.464d0c",
        "type": "Cache in",
        "z": "734a839.70af27c",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 770,
        "y": 340,
        "wires": [
            [
                "782da0fa.931da"
            ]
        ]
    },
    {
        "id": "782da0fa.931da",
        "type": "function",
        "z": "734a839.70af27c",
        "name": "SetData",
        "func": "if (msg.connection && msg.connection.connectionOK) {\n    msg.topic = 'Auth';\n    const token = msg.connection.auth.accessToken;\n    msg.headers = {\n        Authorization: \"Bearer \" + token\n    }\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 920,
        "y": 340,
        "wires": [
            [
                "4dfcc41e.20b744"
            ]
        ]
    },
    {
        "id": "1dbbfb45.f96835",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Set Topic",
        "func": "msg.data.lastSend = Date.now();\nmsg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1730,
        "y": 460,
        "wires": [
            [
                "15e5da8b.d8404d"
            ]
        ]
    },
    {
        "id": "20d6e88b.7f686",
        "type": "link out",
        "z": "f4ca912b.d86bf8",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 1435,
        "y": 260,
        "wires": []
    },
    {
        "id": "a2997ed9.665408",
        "type": "link out",
        "z": "f4ca912b.d86bf8",
        "name": "",
        "links": [
            "7182a5f5.71bcfc"
        ],
        "x": 815,
        "y": 400,
        "wires": []
    },
    {
        "id": "47918317.0eac24",
        "type": "switch",
        "z": "f4ca912b.d86bf8",
        "name": "Neu gestartet?",
        "property": "newStart",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2040,
        "y": 260,
        "wires": [
            [
                "9c0ae03c.5b4348"
            ]
        ]
    },
    {
        "id": "4a2a25ea.a33ae4",
        "type": "json",
        "z": "88a87013.34718",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1090,
        "y": 160,
        "wires": [
            [
                "1cc84207.b17fde"
            ]
        ]
    },
    {
        "id": "83a4dfc6.280818",
        "type": "http request",
        "z": "88a87013.34718",
        "name": "getNewMethod",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "query",
        "url": "http://192.168.0.48:3000/newMethod",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 940,
        "y": 160,
        "wires": [
            [
                "4a2a25ea.a33ae4"
            ]
        ]
    },
    {
        "id": "30fa91d8.fb5ece",
        "type": "function",
        "z": "88a87013.34718",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    phaseNo: msg.data.phase.no,\n    protocolId: msg.data.phase.protocolId\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 770,
        "y": 160,
        "wires": [
            [
                "83a4dfc6.280818"
            ]
        ]
    },
    {
        "id": "b1938087.b93028",
        "type": "link in",
        "z": "88a87013.34718",
        "name": "SendePhasenTags",
        "links": [
            "1fbe07ac.f1394",
            "ec24f02b.6a8bf8",
            "2504678.5a82218",
            "ddb2e739.e5023",
            "87c09f30.da514",
            "7bb93c2c.aa176c"
        ],
        "x": 95,
        "y": 160,
        "wires": [
            [
                "8e8bd3ae.092e88"
            ]
        ]
    },
    {
        "id": "8c9e1c1b.be083",
        "type": "Cache in",
        "z": "88a87013.34718",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 350,
        "y": 160,
        "wires": [
            [
                "ae63f23c.2340d8"
            ]
        ]
    },
    {
        "id": "8e8bd3ae.092e88",
        "type": "function",
        "z": "88a87013.34718",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "8c9e1c1b.be083"
            ]
        ]
    },
    {
        "id": "11f1eb03.307fc5",
        "type": "Cache in",
        "z": "88a87013.34718",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "30fa91d8.fb5ece"
            ]
        ]
    },
    {
        "id": "ae63f23c.2340d8",
        "type": "function",
        "z": "88a87013.34718",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 500,
        "y": 160,
        "wires": [
            [
                "11f1eb03.307fc5"
            ]
        ]
    },
    {
        "id": "1cc84207.b17fde",
        "type": "function",
        "z": "88a87013.34718",
        "name": "",
        "func": "const newMethod = msg.payload;\nconst lastMethod = msg.data.phase.method;\n\nif (newMethod && lastMethod && newMethod.title !== lastMethod.title) {\n    msg.topic = 'Data';\n    msg.data.phase.method = newMethod;\n    msg.payload = 'Die neu ausgewählte Methode ist ' +\n        newMethod.title + '.';\n    msg.data.newPhaseStep = 0;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 160,
        "wires": [
            [
                "8c178642.b83f88",
                "6f5a9d0d.59829c"
            ]
        ]
    },
    {
        "id": "8c178642.b83f88",
        "type": "Cache out",
        "z": "88a87013.34718",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1390,
        "y": 120,
        "wires": []
    },
    {
        "id": "6f5a9d0d.59829c",
        "type": "switch",
        "z": "88a87013.34718",
        "name": "Payload nicht leer?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1440,
        "y": 200,
        "wires": [
            [
                "806eee.c774f91"
            ]
        ]
    },
    {
        "id": "806eee.c774f91",
        "type": "link out",
        "z": "88a87013.34718",
        "name": "",
        "links": [
            "4451701d.3f1558"
        ],
        "x": 1575,
        "y": 200,
        "wires": []
    },
    {
        "id": "1bc26636.053932",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 795,
        "y": 520,
        "wires": []
    },
    {
        "id": "a0f6fe4c.c97fe8",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "node /home/pi/DTDokuTool/checkButtonLoopInf.js",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButton",
        "x": 810,
        "y": 580,
        "wires": [
            [
                "a913bb2f.fef818",
                "f33377c3.fbe6e"
            ],
            [],
            []
        ]
    },
    {
        "id": "a913bb2f.fef818",
        "type": "json",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 580,
        "wires": [
            [
                "2fec1ec2.59a01a"
            ]
        ]
    },
    {
        "id": "2fec1ec2.59a01a",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 580,
        "wires": [
            [
                "d45b0da.e0cfef"
            ],
            [
                "2504678.5a82218"
            ]
        ]
    },
    {
        "id": "d45b0da.e0cfef",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "func": "msg.payload = 'Methode bestätigt!'; \nmsg.read = true;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 560,
        "wires": [
            [
                "7dfcec71.a692ac"
            ]
        ]
    },
    {
        "id": "7dfcec71.a692ac",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "4451701d.3f1558"
        ],
        "x": 1335,
        "y": 560,
        "wires": []
    },
    {
        "id": "2504678.5a82218",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "ReadOut new method",
        "links": [
            "b1938087.b93028"
        ],
        "x": 1195,
        "y": 600,
        "wires": []
    },
    {
        "id": "4c583a29.31aa0c",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "node ",
        "addpay": false,
        "append": "~/DTDokuTool/googleTTS.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Sprachausgabe",
        "x": 860,
        "y": 260,
        "wires": [
            [
                "20979c8e.63c1fc",
                "6ac66943.f7b788"
            ],
            [],
            []
        ]
    },
    {
        "id": "8459ec34.3e4d98",
        "type": "file",
        "z": "2b90fa41.6ed2b6",
        "name": "Schreibe Text-Datei",
        "filename": "/home/pi/DTDokuTool/temp/vorleseText.txt",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 290,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "2a7a2d5b.e94ef2",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "killall mplayer",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Stoppe Player",
        "x": 660,
        "y": 260,
        "wires": [
            [
                "4c583a29.31aa0c"
            ],
            [],
            []
        ]
    },
    {
        "id": "bd28c69f.aa7a48",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "LEDs schalten",
        "links": [
            "9bd707ee.38169",
            "a112003a.2d4e98",
            "dfec9a72.4930a"
        ],
        "x": 615,
        "y": 200,
        "wires": []
    },
    {
        "id": "e4760176.d911b",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Minimum Members?",
        "func": "const members = msg.data.phase.method.members;\n\nif (members && members !== \"\") {\n    msg.payload = 'Hinweis zu den Teilnehmern dieser Methode: ' + members + \n    'Bitte bestätigt die Anwesenheit aller benötigten Teilnemer mit grün oder' +\n    'drückt rot, um eine andere Methode zu wählen.';\n} else msg.payload = '';\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 660,
        "y": 1040,
        "wires": [
            [
                "f5102c26.e4c3d"
            ]
        ]
    },
    {
        "id": "f5102c26.e4c3d",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "msg.payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 840,
        "y": 1040,
        "wires": [
            [
                "6c51abb7.8818f4",
                "91322447.9a85b8"
            ],
            [
                "9b425975.18dea"
            ]
        ]
    },
    {
        "id": "4451701d.3f1558",
        "type": "link in",
        "z": "2b90fa41.6ed2b6",
        "name": "new Phase comes in",
        "links": [
            "64206e87.ad44a",
            "7dfcec71.a692ac",
            "20b7fbe8.859f14",
            "9b425975.18dea",
            "7e9ce4d6.afb534",
            "806eee.c774f91",
            "29d55578.e2460a",
            "4a938aa3.8286b4",
            "2fe03e4f.5b3eca",
            "2979e5a0.bb4cda",
            "36492b0c.fb3e04"
        ],
        "x": 135,
        "y": 260,
        "wires": [
            [
                "c3784b41.2317d8",
                "8459ec34.3e4d98"
            ]
        ]
    },
    {
        "id": "2251a96a.91b186",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "LED",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "blue",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1370,
        "y": 180,
        "wires": [
            [
                "6d603490.da1cdc"
            ],
            [
                "233d3529.39606a"
            ],
            [
                "dbf32d49.3f837"
            ]
        ]
    },
    {
        "id": "af26ccb.04f32b",
        "type": "Cache in",
        "z": "2b90fa41.6ed2b6",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "useString": false,
        "outputs": 1,
        "x": 1240,
        "y": 180,
        "wires": [
            [
                "2251a96a.91b186"
            ]
        ]
    },
    {
        "id": "20979c8e.63c1fc",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Set Topic",
        "func": "msg.topic = 'LED'\nmsg.data.newPhaseStep++;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1040,
        "y": 260,
        "wires": [
            [
                "af26ccb.04f32b",
                "dce66350.213e98",
                "9dd2bfd0.35f0f"
            ]
        ]
    },
    {
        "id": "6d603490.da1cdc",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "7182a5f5.71bcfc",
            "84e14fe3.889238",
            "9bd707ee.38169"
        ],
        "x": 1485,
        "y": 140,
        "wires": []
    },
    {
        "id": "233d3529.39606a",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1cefe3e8.30edfc",
            "84e14fe3.889238",
            "dfec9a72.4930a"
        ],
        "x": 1485,
        "y": 180,
        "wires": []
    },
    {
        "id": "dbf32d49.3f837",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "9bd707ee.38169",
            "a112003a.2d4e98",
            "dfec9a72.4930a"
        ],
        "x": 1485,
        "y": 220,
        "wires": []
    },
    {
        "id": "dce66350.213e98",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "data.newPhaseStep",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 1230,
        "y": 340,
        "wires": [
            [
                "549ba1c5.78805"
            ],
            [
                "597e842c.84552c"
            ],
            [
                "aa9554ba.be0a18"
            ],
            [
                "20bb4e59.2d6b7a"
            ],
            [
                "d08946ab.11d7d"
            ],
            [
                "1d789f55.80b1c9"
            ]
        ]
    },
    {
        "id": "549ba1c5.78805",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "ed599f32.71b1c8"
        ],
        "x": 1375,
        "y": 240,
        "wires": []
    },
    {
        "id": "20bb4e59.2d6b7a",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "6d47909b.68af48"
        ],
        "x": 1375,
        "y": 360,
        "wires": []
    },
    {
        "id": "aa9554ba.be0a18",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "31cbf4cd.5bb134"
        ],
        "x": 1375,
        "y": 320,
        "wires": []
    },
    {
        "id": "ed599f32.71b1c8",
        "type": "link in",
        "z": "2b90fa41.6ed2b6",
        "name": "Step 1",
        "links": [
            "549ba1c5.78805"
        ],
        "x": 135,
        "y": 580,
        "wires": [
            [
                "6ad71c95.ab4904",
                "a495b812.daa3c8"
            ]
        ]
    },
    {
        "id": "d08946ab.11d7d",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "5a966562.a5b96c"
        ],
        "x": 1375,
        "y": 400,
        "wires": []
    },
    {
        "id": "6d47909b.68af48",
        "type": "link in",
        "z": "2b90fa41.6ed2b6",
        "name": "Step 4",
        "links": [
            "20bb4e59.2d6b7a"
        ],
        "x": 135,
        "y": 1040,
        "wires": [
            [
                "d441205c.670838",
                "76583a52.86eb34"
            ]
        ]
    },
    {
        "id": "31cbf4cd.5bb134",
        "type": "link in",
        "z": "2b90fa41.6ed2b6",
        "name": "Step 3",
        "links": [
            "aa9554ba.be0a18"
        ],
        "x": 135,
        "y": 880,
        "wires": [
            [
                "80c99ec2.0dd478",
                "434ffa87.751e64"
            ]
        ]
    },
    {
        "id": "5a966562.a5b96c",
        "type": "link in",
        "z": "2b90fa41.6ed2b6",
        "name": "Step 5",
        "links": [
            "d08946ab.11d7d"
        ],
        "x": 135,
        "y": 1240,
        "wires": [
            [
                "96af3e8a.8d861",
                "73633004.6ac77"
            ]
        ]
    },
    {
        "id": "96af3e8a.8d861",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Timeboxed?",
        "func": "const timebox = msg.data.phase.method.timebox;\n\nif (timebox && timebox > 0) {\n    msg.payload = 'Diese Methode hat eine Timebox von ' + timebox + ' ' + \n        'Minuten. Achtung: Während eines Timers kann die Methode nicht ' +\n        'mehr gewechselt oder pausiert werden! Ihr könnt den Timer nur ' +\n        'vorzeitig beenden, indem ihr den roten Button gedrückt haltet. ' +\n        'Bitte drückt jetzt grün, sobald ihr bereit seid und den Timer ' +\n        'starten wollt!';\n} else msg.payload = 'Die Phase hat begonnen!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 1240,
        "wires": [
            [
                "347d627a.d1e906"
            ]
        ]
    },
    {
        "id": "6c51abb7.8818f4",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "node /home/pi/DTDokuTool/checkButtonLoopInf.js",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButton",
        "x": 1050,
        "y": 1040,
        "wires": [
            [
                "d2705dd.86dc32",
                "f8870a50.8f105"
            ],
            [],
            []
        ]
    },
    {
        "id": "9b425975.18dea",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "4451701d.3f1558"
        ],
        "x": 995,
        "y": 1100,
        "wires": []
    },
    {
        "id": "d2705dd.86dc32",
        "type": "json",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1210,
        "y": 1040,
        "wires": [
            [
                "ae27d18e.f507e8"
            ]
        ]
    },
    {
        "id": "ae27d18e.f507e8",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1330,
        "y": 1040,
        "wires": [
            [
                "b0153ddf.586d4"
            ],
            [
                "ddb2e739.e5023"
            ]
        ]
    },
    {
        "id": "91322447.9a85b8",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 995,
        "y": 980,
        "wires": []
    },
    {
        "id": "1c10a265.e4357e",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 535,
        "y": 1180,
        "wires": []
    },
    {
        "id": "b0153ddf.586d4",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Bestätigt.';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1490,
        "y": 1000,
        "wires": [
            [
                "7e9ce4d6.afb534"
            ]
        ]
    },
    {
        "id": "7e9ce4d6.afb534",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "4451701d.3f1558"
        ],
        "x": 1595,
        "y": 1000,
        "wires": []
    },
    {
        "id": "ddb2e739.e5023",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "b1938087.b93028"
        ],
        "x": 1435,
        "y": 1080,
        "wires": []
    },
    {
        "id": "347d627a.d1e906",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "Timer?",
        "property": "msg.data.phase.method.timebox",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 400,
        "y": 1240,
        "wires": [
            [
                "b1a9f913.b4d678",
                "1c10a265.e4357e"
            ],
            [
                "3172c45a.790514"
            ]
        ]
    },
    {
        "id": "b1a9f913.b4d678",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "node /home/pi/DTDokuTool/checkButtonGreenInf.js",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButton",
        "x": 590,
        "y": 1240,
        "wires": [
            [
                "3a371267.82a08e"
            ],
            [],
            []
        ]
    },
    {
        "id": "c1ab3919.06a06",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "func": "msg.payload = 'Der Timer startet jetzt. Ihr habt ' + \n    msg.data.phase.method.timebox + ' Minuten Zeit.';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1020,
        "y": 1240,
        "wires": [
            [
                "878c7340.01e2c8"
            ]
        ]
    },
    {
        "id": "878c7340.01e2c8",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 1115,
        "y": 1240,
        "wires": []
    },
    {
        "id": "4868f615.f4643",
        "type": "link out",
        "z": "6cfd0ced.5ef174",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "76d7d467.11b484"
        ],
        "x": 2095,
        "y": 360,
        "wires": []
    },
    {
        "id": "a0243618.225b08",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "fee81f3c.fc625"
        ],
        "x": 995,
        "y": 1300,
        "wires": []
    },
    {
        "id": "fee81f3c.fc625",
        "type": "link in",
        "z": "d0f291c6.2d3188",
        "name": "StartTimer",
        "links": [
            "a0243618.225b08"
        ],
        "x": 275,
        "y": 300,
        "wires": [
            [
                "5ca7049b.532194",
                "e8ba2aa1.1e8408",
                "c66d89ec.891258",
                "112a4bd2.48b234",
                "95727d58.87615"
            ]
        ]
    },
    {
        "id": "5109617f.0ce6b",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "Blink green slow",
        "links": [
            "341af203.2492de",
            "5ca7049b.532194",
            "2f47bbc4.bcd0cc",
            "cb49a027.d504a",
            "4ebec832.ead078",
            "fa40d871.372e68"
        ],
        "x": 195,
        "y": 780,
        "wires": [
            [
                "cfba9e34.c6d4e8"
            ]
        ]
    },
    {
        "id": "2f47bbc4.bcd0cc",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "1cefe3e8.30edfc",
            "5109617f.0ce6b"
        ],
        "x": 975,
        "y": 760,
        "wires": []
    },
    {
        "id": "208e233f.7c2824",
        "type": "delay",
        "z": "1cab082b.fb38c8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 700,
        "y": 780,
        "wires": [
            [
                "4d8d2ebe.0cc138"
            ]
        ]
    },
    {
        "id": "4d8d2ebe.0cc138",
        "type": "switch",
        "z": "1cab082b.fb38c8",
        "name": "",
        "property": "blinkGreen",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 860,
        "y": 780,
        "wires": [
            [
                "2f47bbc4.bcd0cc"
            ],
            [
                "cb49a027.d504a"
            ]
        ]
    },
    {
        "id": "cb49a027.d504a",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "9bd707ee.38169",
            "5109617f.0ce6b"
        ],
        "x": 975,
        "y": 800,
        "wires": []
    },
    {
        "id": "dfa3daa2.c47778",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "toggle",
        "func": "if (msg.blinkGreenSlow) {\n    if(msg.blinkGreen === undefined) msg.blinkGreen = false;  \n    msg.blinkGreen = !msg.blinkGreen;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 780,
        "wires": [
            [
                "208e233f.7c2824"
            ]
        ]
    },
    {
        "id": "ff966100.2516a8",
        "type": "Cache in",
        "z": "1cab082b.fb38c8",
        "name": "LED",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "blinkGreenSlow",
        "useString": false,
        "outputs": 1,
        "x": 430,
        "y": 780,
        "wires": [
            [
                "dfa3daa2.c47778"
            ]
        ]
    },
    {
        "id": "cfba9e34.c6d4e8",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenSlow';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 780,
        "wires": [
            [
                "ff966100.2516a8"
            ]
        ]
    },
    {
        "id": "5099229b.44e55c",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "Blink green fast",
        "links": [
            "c13024d5.2a227",
            "8e4ee085.4dba28",
            "b7301277.c3e928",
            "2678f66f.aec942",
            "5ff7af71.332448"
        ],
        "x": 195,
        "y": 960,
        "wires": [
            [
                "5497c4e5.61e7cc"
            ]
        ]
    },
    {
        "id": "2678f66f.aec942",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "1cefe3e8.30edfc",
            "5099229b.44e55c"
        ],
        "x": 1015,
        "y": 940,
        "wires": []
    },
    {
        "id": "9af400f.829798",
        "type": "delay",
        "z": "1cab082b.fb38c8",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 720,
        "y": 960,
        "wires": [
            [
                "b9b13125.8289e8"
            ]
        ]
    },
    {
        "id": "b9b13125.8289e8",
        "type": "switch",
        "z": "1cab082b.fb38c8",
        "name": "",
        "property": "blinkGreen",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 900,
        "y": 960,
        "wires": [
            [
                "2678f66f.aec942"
            ],
            [
                "b7301277.c3e928"
            ]
        ]
    },
    {
        "id": "b7301277.c3e928",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "5099229b.44e55c",
            "9bd707ee.38169"
        ],
        "x": 1015,
        "y": 980,
        "wires": []
    },
    {
        "id": "d7d11774.50a66",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "toggle",
        "func": "if (msg.blinkGreenFast) {\n    if(msg.blinkGreen === undefined) msg.blinkGreen = false;  \n    msg.blinkGreen = !msg.blinkGreen;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 960,
        "wires": [
            [
                "9af400f.829798"
            ]
        ]
    },
    {
        "id": "63332277.ed5214",
        "type": "Cache in",
        "z": "1cab082b.fb38c8",
        "name": "LED",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "blinkGreenFast",
        "useString": false,
        "outputs": 1,
        "x": 430,
        "y": 960,
        "wires": [
            [
                "d7d11774.50a66"
            ]
        ]
    },
    {
        "id": "5497c4e5.61e7cc",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenFast';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 960,
        "wires": [
            [
                "63332277.ed5214"
            ]
        ]
    },
    {
        "id": "3bd75b90.327fac",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 580,
        "y": 220,
        "wires": []
    },
    {
        "id": "5ca7049b.532194",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "5109617f.0ce6b"
        ],
        "x": 395,
        "y": 360,
        "wires": []
    },
    {
        "id": "e8ba2aa1.1e8408",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenSlow';\nmsg.payload = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 440,
        "y": 220,
        "wires": [
            [
                "3bd75b90.327fac"
            ]
        ]
    },
    {
        "id": "fd775703.e20dd",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 840,
        "y": 300,
        "wires": [
            [
                "a4497a6f.629ee8"
            ]
        ]
    },
    {
        "id": "c66d89ec.891258",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Delay",
        "func": "msg.delay = (msg.data.phase.method.timebox - 1) * 60 * 1000;\nmsg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 430,
        "y": 300,
        "wires": [
            [
                "d0d3bca2.13a86"
            ]
        ]
    },
    {
        "id": "431f808a.b23f88",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1360,
        "y": 240,
        "wires": []
    },
    {
        "id": "70d8a1e6.b3e618",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenSlow';\nmsg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 240,
        "wires": [
            [
                "431f808a.b23f88"
            ]
        ]
    },
    {
        "id": "d6eba5b9.b6c5b",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1360,
        "y": 180,
        "wires": []
    },
    {
        "id": "709573c7.2b226c",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenFast';\nmsg.payload = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1220,
        "y": 180,
        "wires": [
            [
                "d6eba5b9.b6c5b"
            ]
        ]
    },
    {
        "id": "59c64cb6.3f9834",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1500,
        "y": 300,
        "wires": [
            [
                "bffb1f18.96efa8"
            ]
        ]
    },
    {
        "id": "cd822919.ab0018",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2040,
        "y": 180,
        "wires": []
    },
    {
        "id": "d7ebfb75.56e49",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenFast';\nmsg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1900,
        "y": 180,
        "wires": [
            [
                "cd822919.ab0018"
            ]
        ]
    },
    {
        "id": "8e4ee085.4dba28",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "5099229b.44e55c",
            "637a23fb.103d9c"
        ],
        "x": 1175,
        "y": 360,
        "wires": []
    },
    {
        "id": "fdd49344.ce39d8",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "1cefe3e8.30edfc"
        ],
        "x": 1855,
        "y": 360,
        "wires": []
    },
    {
        "id": "300c08b3.40d8",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Speichere LED",
        "func": "msg.LED = 'green'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1920,
        "y": 240,
        "wires": [
            [
                "d3e2ca33.97ee68"
            ]
        ]
    },
    {
        "id": "d3e2ca33.97ee68",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2080,
        "y": 240,
        "wires": []
    },
    {
        "id": "d0d3bca2.13a86",
        "type": "Cache in",
        "z": "d0f291c6.2d3188",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 570,
        "y": 300,
        "wires": [
            [
                "520db240.afd284",
                "cca270d6.6399"
            ]
        ]
    },
    {
        "id": "dcdde810.ffa448",
        "type": "Cache in",
        "z": "d0f291c6.2d3188",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 1210,
        "y": 300,
        "wires": [
            [
                "fc8cf704.37e9e8"
            ]
        ]
    },
    {
        "id": "53798bda.7636cc",
        "type": "Cache out",
        "z": "6cfd0ced.5ef174",
        "name": "LED",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2270,
        "y": 540,
        "wires": []
    },
    {
        "id": "7f0361f2.1ff0a8",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenSlow';\nmsg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2140,
        "y": 540,
        "wires": [
            [
                "53798bda.7636cc"
            ]
        ]
    },
    {
        "id": "4047f910.9a8118",
        "type": "Cache out",
        "z": "6cfd0ced.5ef174",
        "name": "LED",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2270,
        "y": 480,
        "wires": []
    },
    {
        "id": "ca5c7de5.4b59a8",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenFast';\nmsg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 2140,
        "y": 480,
        "wires": [
            [
                "4047f910.9a8118"
            ]
        ]
    },
    {
        "id": "117e3739.8c0ea9",
        "type": "comment",
        "z": "6cfd0ced.5ef174",
        "name": "Stoppe Timer, falls er läuft.",
        "info": "",
        "x": 2200,
        "y": 600,
        "wires": []
    },
    {
        "id": "74a6a0f0.211df8",
        "type": "file",
        "z": "d0f291c6.2d3188",
        "name": "StartReading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 2120,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "ff510cc7.a956c8",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1920,
        "y": 300,
        "wires": [
            [
                "74a6a0f0.211df8"
            ]
        ]
    },
    {
        "id": "112a4bd2.48b234",
        "type": "file",
        "z": "d0f291c6.2d3188",
        "name": "StopReading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 450,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "88c46c2d.326b",
        "type": "trigger",
        "z": "d0f291c6.2d3188",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "50",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 580,
        "y": 880,
        "wires": [
            [
                "7efa8233.17e84c",
                "1fc9f08b.ab2a8f"
            ]
        ]
    },
    {
        "id": "7efa8233.17e84c",
        "type": "rpi-gpio out",
        "z": "d0f291c6.2d3188",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 780,
        "y": 880,
        "wires": []
    },
    {
        "id": "eaf19c6d.b170f",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "Last Minute Signal",
        "links": [
            "62a2d49b.9331cc"
        ],
        "x": 1175,
        "y": 480,
        "wires": []
    },
    {
        "id": "85f68d08.3f4c",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "Times Up Signal",
        "links": [
            "24d68be4.774824"
        ],
        "x": 1855,
        "y": 480,
        "wires": []
    },
    {
        "id": "62a2d49b.9331cc",
        "type": "link in",
        "z": "d0f291c6.2d3188",
        "name": "3x short beep",
        "links": [
            "eaf19c6d.b170f"
        ],
        "x": 295,
        "y": 880,
        "wires": [
            [
                "63751185.269b"
            ]
        ]
    },
    {
        "id": "63751185.269b",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Count Beeps",
        "func": "if(msg.counterVariable === null || msg.counterVariable === undefined) {\n    msg.counterVariable = 0;\n} else {\n    msg.counterVariable++;\n}\n\nif (msg.counterVariable < 5) {\n    return msg;\n} else {\n    msg.counterVariable = null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 410,
        "y": 880,
        "wires": [
            [
                "88c46c2d.326b"
            ]
        ]
    },
    {
        "id": "7b7d7a79.dc5664",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delay",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 950,
        "y": 820,
        "wires": [
            [
                "63751185.269b"
            ]
        ]
    },
    {
        "id": "5589e0bb.ba9a68",
        "type": "trigger",
        "z": "d0f291c6.2d3188",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "500",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 580,
        "y": 1040,
        "wires": [
            [
                "1d7a8d6c.edc4ab",
                "ac5a3e8e.3d9f18"
            ]
        ]
    },
    {
        "id": "1d7a8d6c.edc4ab",
        "type": "rpi-gpio out",
        "z": "d0f291c6.2d3188",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 780,
        "y": 1040,
        "wires": []
    },
    {
        "id": "24d68be4.774824",
        "type": "link in",
        "z": "d0f291c6.2d3188",
        "name": "2x middlelong beep",
        "links": [
            "85f68d08.3f4c"
        ],
        "x": 295,
        "y": 1040,
        "wires": [
            [
                "fe175472.e73bf8"
            ]
        ]
    },
    {
        "id": "fe175472.e73bf8",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Count Beeps",
        "func": "if(msg.counterVariable === null || msg.counterVariable === undefined) {\n    msg.counterVariable = 0;\n} else {\n    msg.counterVariable++;\n}\n\nif (msg.counterVariable < 2) {\n    return msg;\n} else {\n    msg.counterVariable = null;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 410,
        "y": 1040,
        "wires": [
            [
                "5589e0bb.ba9a68"
            ]
        ]
    },
    {
        "id": "e49fb9a0.c92968",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delay",
        "timeout": "250",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 960,
        "y": 980,
        "wires": [
            [
                "fe175472.e73bf8"
            ]
        ]
    },
    {
        "id": "1fc9f08b.ab2a8f",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 780,
        "y": 820,
        "wires": [
            [
                "7b7d7a79.dc5664"
            ]
        ]
    },
    {
        "id": "ac5a3e8e.3d9f18",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 780,
        "y": 980,
        "wires": [
            [
                "e49fb9a0.c92968"
            ]
        ]
    },
    {
        "id": "4ffdc7e6.23936",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Ihr habt noch eine Minute!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1230,
        "y": 420,
        "wires": [
            [
                "f98553f0.121518"
            ]
        ]
    },
    {
        "id": "f98553f0.121518",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 1335,
        "y": 420,
        "wires": []
    },
    {
        "id": "9d08ce01.b233c8",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Der Timer ist beendet!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1910,
        "y": 420,
        "wires": [
            [
                "ab74b606.f1cf4"
            ]
        ]
    },
    {
        "id": "ab74b606.f1cf4",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "6fd379d5.34bb"
        ],
        "x": 2015,
        "y": 420,
        "wires": []
    },
    {
        "id": "c08cef8.170b39",
        "type": "link in",
        "z": "d0f291c6.2d3188",
        "name": "Send regelmässig Tags während Timer",
        "links": [
            "259b396e.b55d96"
        ],
        "x": 295,
        "y": 1200,
        "wires": [
            [
                "cf80af53.4e9bb8"
            ]
        ]
    },
    {
        "id": "520db240.afd284",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Variable",
        "func": "msg.data.timerRuns = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 750,
        "y": 220,
        "wires": [
            [
                "c30d970e.d56978",
                "2c725a1.fdfc6a6"
            ]
        ]
    },
    {
        "id": "c30d970e.d56978",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 890,
        "y": 220,
        "wires": []
    },
    {
        "id": "cf80af53.4e9bb8",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 400,
        "y": 1200,
        "wires": [
            [
                "822eecf0.b6558"
            ]
        ]
    },
    {
        "id": "822eecf0.b6558",
        "type": "Cache in",
        "z": "d0f291c6.2d3188",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 530,
        "y": 1200,
        "wires": [
            [
                "b7878ea.6ba9f7"
            ]
        ]
    },
    {
        "id": "b7878ea.6ba9f7",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "data.timerRuns",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 660,
        "y": 1200,
        "wires": [
            [
                "300ffed.b46fd82",
                "4ea5f0e7.62274"
            ]
        ]
    },
    {
        "id": "300ffed.b46fd82",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 860,
        "y": 1140,
        "wires": [
            [
                "cf80af53.4e9bb8"
            ]
        ]
    },
    {
        "id": "8274a150.fa74c",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "b0d7f9a6.44b03",
            "2640d25f.bdc52e"
        ],
        "x": 995,
        "y": 1200,
        "wires": []
    },
    {
        "id": "8b8ec671.3837",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nmsg.data.timerRuns = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1900,
        "y": 540,
        "wires": [
            [
                "b1d930ef.aac14"
            ]
        ]
    },
    {
        "id": "b1d930ef.aac14",
        "type": "Cache out",
        "z": "d0f291c6.2d3188",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 2030,
        "y": 540,
        "wires": []
    },
    {
        "id": "4ea5f0e7.62274",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Tag to Payload",
        "func": "msg.payload = {\n    uid: msg.data.phase.uid,\n    timestamp: Date.now(),\n    status: \"Tag\",\n    statusChanged: false,\n    type: null,\n    memory: null\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 850,
        "y": 1200,
        "wires": [
            [
                "8274a150.fa74c"
            ]
        ]
    },
    {
        "id": "2c725a1.fdfc6a6",
        "type": "delay",
        "z": "d0f291c6.2d3188",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1020,
        "y": 120,
        "wires": [
            [
                "259b396e.b55d96"
            ]
        ]
    },
    {
        "id": "259b396e.b55d96",
        "type": "link out",
        "z": "d0f291c6.2d3188",
        "name": "",
        "links": [
            "c08cef8.170b39"
        ],
        "x": 1155,
        "y": 120,
        "wires": []
    },
    {
        "id": "313f40b4.ee0fc8",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "arecord -r 16000 -f S16_LE /home/pi/DTDokuTool/audio/sttFile.raw",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "60",
        "oldrc": false,
        "name": "Record Speech",
        "x": 1040,
        "y": 540,
        "wires": [
            [
                "8b06c0ee.a8fc8",
                "67a466df.126ba",
                "9e9c393d.452f8",
                "b5a38db1.e590e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "b19af510.c2915",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "killall arecord",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 270,
        "y": 380,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "8b06c0ee.a8fc8",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "node",
        "addpay": false,
        "append": "/home/pi/DTDokuTool/speechToText.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "STT",
        "x": 1210,
        "y": 540,
        "wires": [
            [
                "607d5492.5e0cfc"
            ],
            [],
            []
        ]
    },
    {
        "id": "607d5492.5e0cfc",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Grap Text",
        "func": "const data = msg.payload;\nlet transcription = '';\n\nif (data && data !== '') {\n    const begin = data.indexOf('Transcription:') + 15;\n    transcription = data.substring(begin);\n}\nmsg.transcription = transcription;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1360,
        "y": 540,
        "wires": [
            [
                "2f25dd5.b01a422"
            ]
        ]
    },
    {
        "id": "1ba25870.2ee1e8",
        "type": "switch",
        "z": "734a839.70af27c",
        "name": "Reflection?",
        "property": "reflection",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2310,
        "y": 340,
        "wires": [
            [
                "f76ec1e3.573938"
            ],
            [
                "c6f308de.124b8"
            ]
        ]
    },
    {
        "id": "f76ec1e3.573938",
        "type": "link out",
        "z": "734a839.70af27c",
        "name": "",
        "links": [
            "1cefe3e8.30edfc",
            "b30ea846.879df8"
        ],
        "x": 2435,
        "y": 300,
        "wires": []
    },
    {
        "id": "b30ea846.879df8",
        "type": "link in",
        "z": "f7f8c39.bc0dcc",
        "name": "StartReflection",
        "links": [
            "f76ec1e3.573938"
        ],
        "x": 135,
        "y": 320,
        "wires": [
            [
                "b19af510.c2915",
                "bbd9ddb7.f2abd",
                "985f803.a2f36",
                "bcafa310.e8dda"
            ]
        ]
    },
    {
        "id": "abc4b93d.13647",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "ac749156.fe8b38"
        ],
        "x": 1535,
        "y": 340,
        "wires": []
    },
    {
        "id": "1e08fe6c.5572c2",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "node ",
        "addpay": false,
        "append": "~/DTDokuTool/googleTTS.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Sprachausgabe",
        "x": 860,
        "y": 360,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "11693951.fdbd5f",
        "type": "file",
        "z": "f7f8c39.bc0dcc",
        "name": "Schreibe Text-Datei",
        "filename": "/home/pi/DTDokuTool/temp/vorleseText.txt",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 450,
        "y": 320,
        "wires": [
            [
                "bf82c9f5.e6b7c8",
                "8795367c.97abf8"
            ]
        ]
    },
    {
        "id": "bf82c9f5.e6b7c8",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "killall mplayer",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Stoppe Player",
        "x": 640,
        "y": 320,
        "wires": [
            [
                "1e08fe6c.5572c2",
                "80be1381.a0c93"
            ],
            [],
            []
        ]
    },
    {
        "id": "8795367c.97abf8",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "LEDs schalten",
        "links": [
            "9bd707ee.38169",
            "a112003a.2d4e98",
            "dfec9a72.4930a"
        ],
        "x": 635,
        "y": 220,
        "wires": []
    },
    {
        "id": "bbd9ddb7.f2abd",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Eure letzte Sitzung wurde noch nicht reflektiert. ' +\n    'Bitte tut das jetzt und diktiert anschließend das Ergebnis innerhalb von' +\n    ' maximal 60 Sekunden. Sobald ihr den grünen Knopf drückt, beginnt die ' +\n    'Aufnahme. Mit rot könnte ihr die Reflexion überspringen.'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 270,
        "y": 320,
        "wires": [
            [
                "11693951.fdbd5f"
            ]
        ]
    },
    {
        "id": "80be1381.a0c93",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "node /home/pi/DTDokuTool/checkButtonLoopInf",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButtonLoop",
        "x": 870,
        "y": 260,
        "wires": [
            [
                "ef29f27b.15a4e8",
                "a7994675.149cf"
            ],
            [],
            []
        ]
    },
    {
        "id": "ef29f27b.15a4e8",
        "type": "json",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1050,
        "y": 260,
        "wires": [
            [
                "2f791c9a.f859ac"
            ]
        ]
    },
    {
        "id": "2f791c9a.f859ac",
        "type": "switch",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1170,
        "y": 260,
        "wires": [
            [
                "824b2fc5.a02a38",
                "9fdeabd3.0d83a8",
                "8b3d3c08.c986a8"
            ],
            [
                "fbd0cd9c.fa466"
            ]
        ]
    },
    {
        "id": "c89b8.cb38fe48",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "3f9cda67.fd45ee"
        ],
        "x": 1495,
        "y": 180,
        "wires": []
    },
    {
        "id": "824b2fc5.a02a38",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "set TTS-Text",
        "func": "msg.payload='Die Sitzung wird nicht reflektiert!';\nmsg.transcription = '';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1390,
        "y": 180,
        "wires": [
            [
                "c89b8.cb38fe48"
            ]
        ]
    },
    {
        "id": "9fdeabd3.0d83a8",
        "type": "delay",
        "z": "f7f8c39.bc0dcc",
        "name": "Warte 5s",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1380,
        "y": 240,
        "wires": [
            [
                "abc4b93d.13647"
            ]
        ]
    },
    {
        "id": "fbd0cd9c.fa466",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "848880b9.39269"
        ],
        "x": 1335,
        "y": 300,
        "wires": []
    },
    {
        "id": "848880b9.39269",
        "type": "link in",
        "z": "f7f8c39.bc0dcc",
        "name": "RecordReflection",
        "links": [
            "fbd0cd9c.fa466"
        ],
        "x": 135,
        "y": 540,
        "wires": [
            [
                "f76c2d66.613d2",
                "822535b9.b48b4"
            ]
        ]
    },
    {
        "id": "c3562505.01a42",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "killall arecord",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 1510,
        "y": 600,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "690b3447.78eb5c",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "node /home/pi/DTDokuTool/checkButtonGreen",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "60",
        "oldrc": false,
        "name": "CheckButtonLoop",
        "x": 1050,
        "y": 600,
        "wires": [
            [
                "f7dc0e32.f219a",
                "cc8cf8f6.f671e8",
                "b8089188.c356e8",
                "b5a38db1.e590e8"
            ],
            [],
            []
        ]
    },
    {
        "id": "2a702d18.9bcdaa",
        "type": "file",
        "z": "f7f8c39.bc0dcc",
        "name": "Schreibe Text-Datei",
        "filename": "/home/pi/DTDokuTool/temp/vorleseText.txt",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 430,
        "y": 540,
        "wires": [
            [
                "e5c2d928.6108b8"
            ]
        ]
    },
    {
        "id": "e5c2d928.6108b8",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "killall mplayer",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Stoppe Player",
        "x": 620,
        "y": 540,
        "wires": [
            [
                "2754a2f3.576066"
            ],
            [],
            []
        ]
    },
    {
        "id": "f76c2d66.613d2",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Die Aufnahme startet beim Pfeifton. Drückt den grünen Knopf, ' +\n    'wenn ihr fertig seid. Nach 60 Sekunden endet die Aufnahme automatisch. ' +\n    'Die letzten 10 Sekunden werden durch schnelles L E D Blinken angezeigt.';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 250,
        "y": 540,
        "wires": [
            [
                "2a702d18.9bcdaa"
            ]
        ]
    },
    {
        "id": "2754a2f3.576066",
        "type": "exec",
        "z": "f7f8c39.bc0dcc",
        "command": "node ",
        "addpay": false,
        "append": "~/DTDokuTool/googleTTS.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "Sprachausgabe",
        "x": 820,
        "y": 540,
        "wires": [
            [
                "313f40b4.ee0fc8",
                "690b3447.78eb5c",
                "65f55e21.cb2ac",
                "b8eaaf7b.7e1778"
            ],
            [],
            []
        ]
    },
    {
        "id": "40d2c9e.5b49938",
        "type": "switch",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1370,
        "y": 600,
        "wires": [
            [
                "c3562505.01a42"
            ]
        ]
    },
    {
        "id": "65f55e21.cb2ac",
        "type": "trigger",
        "z": "f7f8c39.bc0dcc",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1040,
        "y": 420,
        "wires": [
            [
                "98ccb857.e1734"
            ]
        ]
    },
    {
        "id": "98ccb857.e1734",
        "type": "rpi-gpio out",
        "z": "f7f8c39.bc0dcc",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1180,
        "y": 420,
        "wires": []
    },
    {
        "id": "3f9cda67.fd45ee",
        "type": "link in",
        "z": "f7f8c39.bc0dcc",
        "name": "Send Reflexion",
        "links": [
            "2f25dd5.b01a422",
            "c89b8.cb38fe48"
        ],
        "x": 135,
        "y": 740,
        "wires": [
            [
                "3bb938e7.c21ef8"
            ]
        ]
    },
    {
        "id": "fb4531b8.2da1d8",
        "type": "http request",
        "z": "f7f8c39.bc0dcc",
        "name": "SendReflection",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.0.48:3000/reflection",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 980,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "91eb5a39.3e671",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: msg.data.phase,\n    reflectionText: msg.transcription,\n    notReflectedMeeting: msg.data.team.notReflectedMeeting.id\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 740,
        "wires": [
            [
                "fb4531b8.2da1d8"
            ]
        ]
    },
    {
        "id": "d989bdbc.73b12",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 390,
        "y": 740,
        "wires": [
            [
                "bd318161.6b795"
            ]
        ]
    },
    {
        "id": "3bb938e7.c21ef8",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 740,
        "wires": [
            [
                "d989bdbc.73b12"
            ]
        ]
    },
    {
        "id": "8530a058.cf13",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 670,
        "y": 740,
        "wires": [
            [
                "91eb5a39.3e671"
            ]
        ]
    },
    {
        "id": "bd318161.6b795",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 740,
        "wires": [
            [
                "8530a058.cf13"
            ]
        ]
    },
    {
        "id": "2f25dd5.b01a422",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "3f9cda67.fd45ee"
        ],
        "x": 1475,
        "y": 540,
        "wires": []
    },
    {
        "id": "f7dc0e32.f219a",
        "type": "json",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1250,
        "y": 600,
        "wires": [
            [
                "40d2c9e.5b49938"
            ]
        ]
    },
    {
        "id": "fc01cee2.5e29b8",
        "type": "http request",
        "z": "bbfabbe9.5e1f6",
        "name": "SkipDescription",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.0.48:3000/skipDescription",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1020,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "d9f72672.061e68",
        "type": "function",
        "z": "bbfabbe9.5e1f6",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: msg.data.phase,\n    type: 'phase'\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 790,
        "y": 160,
        "wires": [
            [
                "fc01cee2.5e29b8"
            ]
        ]
    },
    {
        "id": "6d8cd308.5618c4",
        "type": "Cache in",
        "z": "bbfabbe9.5e1f6",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 160,
        "wires": [
            [
                "bf3116c8.10a5"
            ]
        ]
    },
    {
        "id": "39c4502b.f33688",
        "type": "function",
        "z": "bbfabbe9.5e1f6",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 220,
        "y": 160,
        "wires": [
            [
                "6d8cd308.5618c4"
            ]
        ]
    },
    {
        "id": "5009ef1b.cb43d8",
        "type": "link in",
        "z": "bbfabbe9.5e1f6",
        "name": "SkipPhaseDescription",
        "links": [
            "20256e43.8773a2"
        ],
        "x": 75,
        "y": 160,
        "wires": [
            [
                "39c4502b.f33688"
            ]
        ]
    },
    {
        "id": "3f06cd12.47ecc2",
        "type": "Cache in",
        "z": "bbfabbe9.5e1f6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 650,
        "y": 160,
        "wires": [
            [
                "d9f72672.061e68"
            ]
        ]
    },
    {
        "id": "bf3116c8.10a5",
        "type": "function",
        "z": "bbfabbe9.5e1f6",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 160,
        "wires": [
            [
                "3f06cd12.47ecc2"
            ]
        ]
    },
    {
        "id": "b0ad079.a0af2f8",
        "type": "function",
        "z": "bbfabbe9.5e1f6",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: msg.data.phase,\n    type: 'method'\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 790,
        "y": 280,
        "wires": [
            [
                "fc01cee2.5e29b8"
            ]
        ]
    },
    {
        "id": "f8e37b83.2c3f58",
        "type": "Cache in",
        "z": "bbfabbe9.5e1f6",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 280,
        "wires": [
            [
                "44188627.5da26"
            ]
        ]
    },
    {
        "id": "b4659252.d9cc78",
        "type": "function",
        "z": "bbfabbe9.5e1f6",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 220,
        "y": 280,
        "wires": [
            [
                "f8e37b83.2c3f58"
            ]
        ]
    },
    {
        "id": "7b2fa825.82c198",
        "type": "link in",
        "z": "bbfabbe9.5e1f6",
        "name": "SkipMethodDescription",
        "links": [
            "a0e58a71.d06f3"
        ],
        "x": 75,
        "y": 280,
        "wires": [
            [
                "b4659252.d9cc78"
            ]
        ]
    },
    {
        "id": "ad6a7786.c01aa",
        "type": "Cache in",
        "z": "bbfabbe9.5e1f6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 650,
        "y": 280,
        "wires": [
            [
                "b0ad079.a0af2f8"
            ]
        ]
    },
    {
        "id": "44188627.5da26",
        "type": "function",
        "z": "bbfabbe9.5e1f6",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 280,
        "wires": [
            [
                "ad6a7786.c01aa"
            ]
        ]
    },
    {
        "id": "597e842c.84552c",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "e237735e.67492"
        ],
        "x": 1375,
        "y": 280,
        "wires": []
    },
    {
        "id": "e237735e.67492",
        "type": "link in",
        "z": "2b90fa41.6ed2b6",
        "name": "Step 2",
        "links": [
            "597e842c.84552c"
        ],
        "x": 135,
        "y": 740,
        "wires": [
            [
                "392d78e3.bc9448",
                "afa643b.89008c"
            ]
        ]
    },
    {
        "id": "b47b3ab2.fabe2",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "ac070014.97d12",
            "96087974.8b511",
            "3d7507e3.c7edd"
        ],
        "x": 775,
        "y": 680,
        "wires": []
    },
    {
        "id": "a16b8cfd.cdc6e",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "node /home/pi/DTDokuTool/checkButtonLoopInf.js",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButton",
        "x": 810,
        "y": 740,
        "wires": [
            [
                "4c8bf896.4db1a8",
                "2f8f3632.aa7242"
            ],
            [],
            []
        ]
    },
    {
        "id": "4c8bf896.4db1a8",
        "type": "json",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 740,
        "wires": [
            [
                "2903649a.24e23c"
            ]
        ]
    },
    {
        "id": "2903649a.24e23c",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 740,
        "wires": [
            [
                "3d40893e.1c9ede"
            ],
            [
                "77fe032f.8b9dac"
            ]
        ]
    },
    {
        "id": "3d40893e.1c9ede",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "func": "msg.payload = 'Information zur Phase: ' + msg.data.phase.description;\nmsg.read = true;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 720,
        "wires": [
            [
                "4a938aa3.8286b4"
            ]
        ]
    },
    {
        "id": "4a938aa3.8286b4",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "4451701d.3f1558"
        ],
        "x": 1355,
        "y": 720,
        "wires": []
    },
    {
        "id": "77fe032f.8b9dac",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "func": "msg.payload = 'Übersprungen.';\nmsg.read = true;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 760,
        "wires": [
            [
                "20256e43.8773a2",
                "4a938aa3.8286b4"
            ]
        ]
    },
    {
        "id": "fd45609b.b9dbd",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 775,
        "y": 820,
        "wires": []
    },
    {
        "id": "1e182d78.248dfb",
        "type": "exec",
        "z": "2b90fa41.6ed2b6",
        "command": "node /home/pi/DTDokuTool/checkButtonLoopInf.js",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "CheckButton",
        "x": 810,
        "y": 880,
        "wires": [
            [
                "f23cfe37.a7df5",
                "fb269148.60335"
            ],
            [],
            []
        ]
    },
    {
        "id": "f23cfe37.a7df5",
        "type": "json",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 880,
        "wires": [
            [
                "985b81f5.5baaa8"
            ]
        ]
    },
    {
        "id": "985b81f5.5baaa8",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "red",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 880,
        "wires": [
            [
                "ca1649b6.7dec6"
            ],
            [
                "89913368.2cf188"
            ]
        ]
    },
    {
        "id": "ca1649b6.7dec6",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "func": "msg.payload = 'Informationen zur Methode: ' + msg.data.phase.method.description;\nmsg.read = true;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 860,
        "wires": [
            [
                "2fe03e4f.5b3eca"
            ]
        ]
    },
    {
        "id": "2fe03e4f.5b3eca",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "4451701d.3f1558"
        ],
        "x": 1355,
        "y": 860,
        "wires": []
    },
    {
        "id": "89913368.2cf188",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "func": "msg.payload = 'Übersprungen.';\nmsg.read = true;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 900,
        "wires": [
            [
                "2fe03e4f.5b3eca",
                "a0e58a71.d06f3"
            ]
        ]
    },
    {
        "id": "20256e43.8773a2",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "5009ef1b.cb43d8"
        ],
        "x": 1355,
        "y": 760,
        "wires": []
    },
    {
        "id": "a0e58a71.d06f3",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "7b2fa825.82c198"
        ],
        "x": 1355,
        "y": 900,
        "wires": []
    },
    {
        "id": "e373ccf1.dee39",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Jetzt zur Methode. Drückt für die Erläuterung grün, für ' +\n    'Überspringen rot!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 880,
        "wires": [
            [
                "fd45609b.b9dbd",
                "1e182d78.248dfb"
            ]
        ]
    },
    {
        "id": "f98baa34.0961b8",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Drückt jetzt grün, wenn ihr die Beschreibung der Phase hören ' +\n    ' möchtet. Wenn nicht, drückt rot!';\nmsg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 740,
        "wires": [
            [
                "b47b3ab2.fabe2",
                "a16b8cfd.cdc6e"
            ]
        ]
    },
    {
        "id": "8ac446b1.c53298",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Drückt grün, wenn ihr diese Methode bestätigen oder rot, wenn ' +\n    'ihr die Methode wechseln möchtet!';\nmsg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 580,
        "wires": [
            [
                "a0f6fe4c.c97fe8",
                "1bc26636.053932"
            ]
        ]
    },
    {
        "id": "6ad71c95.ab4904",
        "type": "file",
        "z": "2b90fa41.6ed2b6",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 270,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "392d78e3.bc9448",
        "type": "file",
        "z": "2b90fa41.6ed2b6",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 270,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "80c99ec2.0dd478",
        "type": "file",
        "z": "2b90fa41.6ed2b6",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 270,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "d441205c.670838",
        "type": "file",
        "z": "2b90fa41.6ed2b6",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 270,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "73633004.6ac77",
        "type": "file",
        "z": "2b90fa41.6ed2b6",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 270,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "db65eb04.ce9f18",
        "type": "file",
        "z": "6cfd0ced.5ef174",
        "name": "Stop Buttons",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 2150,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "66806cc4.c19854",
        "type": "comment",
        "z": "6cfd0ced.5ef174",
        "name": "Stoppe Überwachung der Buttons, falls sie noch läuft.",
        "info": "",
        "x": 2440,
        "y": 420,
        "wires": []
    },
    {
        "id": "985f803.a2f36",
        "type": "file",
        "z": "f7f8c39.bc0dcc",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 290,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "822535b9.b48b4",
        "type": "file",
        "z": "f7f8c39.bc0dcc",
        "name": "Start Button",
        "filename": "/home/pi/DTDokuTool/temp/buttonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 270,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "76583a52.86eb34",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 1040,
        "wires": [
            [
                "7f49294.79a6458"
            ]
        ]
    },
    {
        "id": "7f49294.79a6458",
        "type": "Cache in",
        "z": "2b90fa41.6ed2b6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 1040,
        "wires": [
            [
                "c993ce9d.aab1"
            ]
        ]
    },
    {
        "id": "3a371267.82a08e",
        "type": "json",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 750,
        "y": 1240,
        "wires": [
            [
                "5ba8c2e6.def36c"
            ]
        ]
    },
    {
        "id": "5ba8c2e6.def36c",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "payload.pressedButton",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "green",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 870,
        "y": 1240,
        "wires": [
            [
                "c1ab3919.06a06",
                "a0243618.225b08",
                "7c730d22.e55d94"
            ]
        ]
    },
    {
        "id": "eeac0936.2aa288",
        "type": "link in",
        "z": "33138393.b37e7c",
        "name": "Start Pause",
        "links": [
            "bf3a8d55.a85ad8"
        ],
        "x": 155,
        "y": 360,
        "wires": [
            [
                "df7452ab.5a4a18"
            ]
        ]
    },
    {
        "id": "7be3022.2d73e7c",
        "type": "link in",
        "z": "33138393.b37e7c",
        "name": "Stop Pause",
        "links": [
            "250b5224.dac13e",
            "c44d040d.faada"
        ],
        "x": 155,
        "y": 560,
        "wires": [
            [
                "300777c9.c8dde8"
            ]
        ]
    },
    {
        "id": "6fd379d5.34bb",
        "type": "link in",
        "z": "33138393.b37e7c",
        "name": "Aktivate Pause-Button",
        "links": [
            "3172c45a.790514",
            "ab74b606.f1cf4",
            "a0243618.225b08",
            "1d789f55.80b1c9",
            "d368be8b.cbd9c8"
        ],
        "x": 155,
        "y": 680,
        "wires": [
            [
                "7c7b1e4d.da8138"
            ]
        ]
    },
    {
        "id": "76d7d467.11b484",
        "type": "link in",
        "z": "33138393.b37e7c",
        "name": "Deactivate Pause-Button",
        "links": [
            "3ba31f17.82d7d",
            "609281de.8030e8",
            "64206e87.ad44a",
            "4868f615.f4643"
        ],
        "x": 155,
        "y": 800,
        "wires": [
            [
                "48f4580c.250dc8"
            ]
        ]
    },
    {
        "id": "3172c45a.790514",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "1e2575d4.ce0292",
            "6fd379d5.34bb"
        ],
        "x": 535,
        "y": 1300,
        "wires": []
    },
    {
        "id": "67ace7a9.60b5a",
        "type": "exec",
        "z": "33138393.b37e7c",
        "command": "node",
        "addpay": false,
        "append": "/home/pi/DTDokuTool/checkButtonGreenHoldInf.js",
        "useSpawn": "true",
        "timer": "",
        "oldrc": false,
        "name": "Check PauseButton",
        "x": 500,
        "y": 680,
        "wires": [
            [
                "e1e93a77.2ad86",
                "7177abf4.fdc604"
            ],
            [],
            []
        ]
    },
    {
        "id": "7c7b1e4d.da8138",
        "type": "file",
        "z": "33138393.b37e7c",
        "name": "Start PauseButton",
        "filename": "/home/pi/DTDokuTool/temp/breakButtonCheck.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 290,
        "y": 680,
        "wires": [
            [
                "67ace7a9.60b5a"
            ]
        ]
    },
    {
        "id": "48f4580c.250dc8",
        "type": "file",
        "z": "33138393.b37e7c",
        "name": "Stop Pause Button",
        "filename": "/home/pi/DTDokuTool/temp/breakButtonCheck.tmp",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 290,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "337b03e0.31733c",
        "type": "switch",
        "z": "33138393.b37e7c",
        "name": "Pause an/aus",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "paused",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "running",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 840,
        "y": 700,
        "wires": [
            [
                "bf3a8d55.a85ad8"
            ],
            [
                "250b5224.dac13e"
            ]
        ]
    },
    {
        "id": "e1e93a77.2ad86",
        "type": "json",
        "z": "33138393.b37e7c",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 690,
        "y": 700,
        "wires": [
            [
                "337b03e0.31733c"
            ]
        ]
    },
    {
        "id": "bf3a8d55.a85ad8",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "eeac0936.2aa288"
        ],
        "x": 1015,
        "y": 660,
        "wires": []
    },
    {
        "id": "250b5224.dac13e",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "7be3022.2d73e7c"
        ],
        "x": 1015,
        "y": 740,
        "wires": []
    },
    {
        "id": "ebd40fc5.db5988",
        "type": "http request",
        "z": "33138393.b37e7c",
        "name": "SetPause",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.0.48:3000/setPause",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1120,
        "y": 360,
        "wires": [
            [
                "8b1b115.389f47"
            ]
        ]
    },
    {
        "id": "d60409d8.b8c79",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: msg.data.phase,\n    action: 'start'\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 950,
        "y": 360,
        "wires": [
            [
                "ebd40fc5.db5988"
            ]
        ]
    },
    {
        "id": "cb76267e.41a8c",
        "type": "Cache in",
        "z": "33138393.b37e7c",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 410,
        "y": 360,
        "wires": [
            [
                "c8a5bfb7.d2a6b8"
            ]
        ]
    },
    {
        "id": "df7452ab.5a4a18",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 260,
        "y": 360,
        "wires": [
            [
                "cb76267e.41a8c"
            ]
        ]
    },
    {
        "id": "d2a23e85.828b9",
        "type": "Cache in",
        "z": "33138393.b37e7c",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 690,
        "y": 360,
        "wires": [
            [
                "9261eba8.cd7898"
            ]
        ]
    },
    {
        "id": "c8a5bfb7.d2a6b8",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 360,
        "wires": [
            [
                "d2a23e85.828b9"
            ]
        ]
    },
    {
        "id": "36c88a25.31be3e",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: msg.data.phase,\n    action: 'stop',\n    pauseId: msg.data.pauseId\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 950,
        "y": 560,
        "wires": [
            [
                "c97a5595.ec4be"
            ]
        ]
    },
    {
        "id": "4abee011.6018c8",
        "type": "Cache in",
        "z": "33138393.b37e7c",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 410,
        "y": 560,
        "wires": [
            [
                "8d0eaa6a.2bf"
            ]
        ]
    },
    {
        "id": "300777c9.c8dde8",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 260,
        "y": 560,
        "wires": [
            [
                "4abee011.6018c8"
            ]
        ]
    },
    {
        "id": "e0d55155.1140e8",
        "type": "Cache in",
        "z": "33138393.b37e7c",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 690,
        "y": 560,
        "wires": [
            [
                "c6f7564d.7f52e8"
            ]
        ]
    },
    {
        "id": "8d0eaa6a.2bf",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 560,
        "wires": [
            [
                "e0d55155.1140e8"
            ]
        ]
    },
    {
        "id": "67a466df.126ba",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set TTS-Text",
        "func": "msg.payload = 'Euer Text wurde erfasst und wird verarbeitet.'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1370,
        "y": 480,
        "wires": [
            [
                "955f1d30.ef5968"
            ]
        ]
    },
    {
        "id": "955f1d30.ef5968",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 1475,
        "y": 480,
        "wires": []
    },
    {
        "id": "9e9c393d.452f8",
        "type": "delay",
        "z": "f7f8c39.bc0dcc",
        "name": "Warte 5s",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1360,
        "y": 420,
        "wires": [
            [
                "abc4b93d.13647"
            ]
        ]
    },
    {
        "id": "434ffa87.751e64",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 880,
        "wires": [
            [
                "8732827b.e16c68"
            ]
        ]
    },
    {
        "id": "8732827b.e16c68",
        "type": "Cache in",
        "z": "2b90fa41.6ed2b6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 880,
        "wires": [
            [
                "dfc8aad7.b9839"
            ]
        ]
    },
    {
        "id": "afa643b.89008c",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 740,
        "wires": [
            [
                "5aba7407.567b84"
            ]
        ]
    },
    {
        "id": "5aba7407.567b84",
        "type": "Cache in",
        "z": "2b90fa41.6ed2b6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 740,
        "wires": [
            [
                "a0c3baf3.55ab6"
            ]
        ]
    },
    {
        "id": "a495b812.daa3c8",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 580,
        "wires": [
            [
                "4fb28f12.f45d88"
            ]
        ]
    },
    {
        "id": "4fb28f12.f45d88",
        "type": "Cache in",
        "z": "2b90fa41.6ed2b6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 580,
        "wires": [
            [
                "440cb0fa.50f498"
            ]
        ]
    },
    {
        "id": "c3784b41.2317d8",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 260,
        "wires": [
            [
                "eae43753.f12e8"
            ]
        ]
    },
    {
        "id": "eae43753.f12e8",
        "type": "Cache in",
        "z": "2b90fa41.6ed2b6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 260,
        "wires": [
            [
                "c6086ac8.ecd64"
            ]
        ]
    },
    {
        "id": "c6086ac8.ecd64",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "2a7a2d5b.e94ef2",
                "bd28c69f.aa7a48"
            ]
        ]
    },
    {
        "id": "440cb0fa.50f498",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 580,
        "wires": [
            [
                "8ac446b1.c53298"
            ]
        ]
    },
    {
        "id": "a0c3baf3.55ab6",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 740,
        "wires": [
            [
                "f98baa34.0961b8"
            ]
        ]
    },
    {
        "id": "dfc8aad7.b9839",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 880,
        "wires": [
            [
                "e373ccf1.dee39"
            ]
        ]
    },
    {
        "id": "c993ce9d.aab1",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 490,
        "y": 1040,
        "wires": [
            [
                "e4760176.d911b"
            ]
        ]
    },
    {
        "id": "7c730d22.e55d94",
        "type": "trigger",
        "z": "2b90fa41.6ed2b6",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1040,
        "y": 1180,
        "wires": [
            [
                "3e7986b.f6902fa"
            ]
        ]
    },
    {
        "id": "3e7986b.f6902fa",
        "type": "rpi-gpio out",
        "z": "2b90fa41.6ed2b6",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1180,
        "y": 1180,
        "wires": []
    },
    {
        "id": "fb269148.60335",
        "type": "trigger",
        "z": "2b90fa41.6ed2b6",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 980,
        "y": 820,
        "wires": [
            [
                "cdc0f567.887bf8"
            ]
        ]
    },
    {
        "id": "cdc0f567.887bf8",
        "type": "rpi-gpio out",
        "z": "2b90fa41.6ed2b6",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1120,
        "y": 820,
        "wires": []
    },
    {
        "id": "2f8f3632.aa7242",
        "type": "trigger",
        "z": "2b90fa41.6ed2b6",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 980,
        "y": 680,
        "wires": [
            [
                "db28fce.cfcc3"
            ]
        ]
    },
    {
        "id": "db28fce.cfcc3",
        "type": "rpi-gpio out",
        "z": "2b90fa41.6ed2b6",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1120,
        "y": 680,
        "wires": []
    },
    {
        "id": "f33377c3.fbe6e",
        "type": "trigger",
        "z": "2b90fa41.6ed2b6",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 980,
        "y": 520,
        "wires": [
            [
                "cc3bdc40.3e5a98"
            ]
        ]
    },
    {
        "id": "cc3bdc40.3e5a98",
        "type": "rpi-gpio out",
        "z": "2b90fa41.6ed2b6",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1120,
        "y": 520,
        "wires": []
    },
    {
        "id": "f8870a50.8f105",
        "type": "trigger",
        "z": "2b90fa41.6ed2b6",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1220,
        "y": 960,
        "wires": [
            [
                "c81e9f6.c63d96"
            ]
        ]
    },
    {
        "id": "c81e9f6.c63d96",
        "type": "rpi-gpio out",
        "z": "2b90fa41.6ed2b6",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1360,
        "y": 960,
        "wires": []
    },
    {
        "id": "cc8cf8f6.f671e8",
        "type": "trigger",
        "z": "f7f8c39.bc0dcc",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1260,
        "y": 660,
        "wires": [
            [
                "c82dbc5b.4276f8"
            ]
        ]
    },
    {
        "id": "c82dbc5b.4276f8",
        "type": "rpi-gpio out",
        "z": "f7f8c39.bc0dcc",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1400,
        "y": 660,
        "wires": []
    },
    {
        "id": "73e09077.ebe65",
        "type": "trigger",
        "z": "304c61e3.487f3e",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 520,
        "y": 180,
        "wires": [
            [
                "572d6fca.bef5"
            ]
        ]
    },
    {
        "id": "572d6fca.bef5",
        "type": "rpi-gpio out",
        "z": "304c61e3.487f3e",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 660,
        "y": 180,
        "wires": []
    },
    {
        "id": "a7994675.149cf",
        "type": "trigger",
        "z": "f7f8c39.bc0dcc",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1060,
        "y": 200,
        "wires": [
            [
                "f9398925.d46118"
            ]
        ]
    },
    {
        "id": "f9398925.d46118",
        "type": "rpi-gpio out",
        "z": "f7f8c39.bc0dcc",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1200,
        "y": 200,
        "wires": []
    },
    {
        "id": "8b1b115.389f47",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set PauseID",
        "func": "const payload = JSON.parse(msg.payload);\n\nif (payload && payload.pauseId) {\n    msg.data.pauseId = payload.pauseId;\n    msg.topic = 'Data';\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1290,
        "y": 360,
        "wires": [
            [
                "5c3df6ad.dcac9",
                "3d900126.c2ecee",
                "4f0c5332.f0237c"
            ]
        ]
    },
    {
        "id": "5c3df6ad.dcac9",
        "type": "Cache out",
        "z": "33138393.b37e7c",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1490,
        "y": 460,
        "wires": []
    },
    {
        "id": "c97a5595.ec4be",
        "type": "http request",
        "z": "33138393.b37e7c",
        "name": "SetPause",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "192.168.0.48:3000/setPause",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 1120,
        "y": 560,
        "wires": [
            [
                "b2fb7815.388ec"
            ]
        ]
    },
    {
        "id": "b2fb7815.388ec",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Delete PauseID",
        "func": "const payload = JSON.parse(msg.payload);\n\nif (payload) {\n    msg.topic = 'Data';\n    msg.data.pauseId = null;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 560,
        "wires": [
            [
                "5c3df6ad.dcac9",
                "f29f03c0.dbee18"
            ]
        ]
    },
    {
        "id": "9261eba8.cd7898",
        "type": "switch",
        "z": "33138393.b37e7c",
        "name": "",
        "property": "data.pauseId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 360,
        "wires": [
            [
                "d60409d8.b8c79"
            ],
            [
                "7ef6f3ae.220b9c"
            ]
        ]
    },
    {
        "id": "c6f7564d.7f52e8",
        "type": "switch",
        "z": "33138393.b37e7c",
        "name": "",
        "property": "data.pauseId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "else"
            },
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 560,
        "wires": [
            [
                "1b13bc70.c77194"
            ],
            [
                "36c88a25.31be3e"
            ]
        ]
    },
    {
        "id": "7ef6f3ae.220b9c",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "set TTS-Text",
        "func": "msg.payload = 'Die Pause konnte nicht begonnen werden. Bitte versuche es erneut!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 990,
        "y": 420,
        "wires": [
            [
                "8ff0b4ce.b86a78"
            ]
        ]
    },
    {
        "id": "8ff0b4ce.b86a78",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 1135,
        "y": 460,
        "wires": []
    },
    {
        "id": "1b13bc70.c77194",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "set TTS-Text",
        "func": "msg.payload = 'Die Pause konnte nicht beendet werden. Bitte versuche es erneut!';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 990,
        "y": 500,
        "wires": [
            [
                "8ff0b4ce.b86a78"
            ]
        ]
    },
    {
        "id": "f29f03c0.dbee18",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "set TTS-Text",
        "func": "if (!msg.data.pauseId) { \n    msg.payload = 'Die Pause wurde beendet!';\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1470,
        "y": 560,
        "wires": [
            [
                "c139bd15.8a07f8",
                "3fa6beea.f7d012",
                "72b786e6.ddb7d"
            ]
        ]
    },
    {
        "id": "c139bd15.8a07f8",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 1635,
        "y": 460,
        "wires": []
    },
    {
        "id": "7177abf4.fdc604",
        "type": "trigger",
        "z": "33138393.b37e7c",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 720,
        "y": 640,
        "wires": [
            [
                "48a67ea8.e8351"
            ]
        ]
    },
    {
        "id": "48a67ea8.e8351",
        "type": "rpi-gpio out",
        "z": "33138393.b37e7c",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 890,
        "y": 640,
        "wires": []
    },
    {
        "id": "d1686696.1fc89",
        "type": "function",
        "z": "304c61e3.487f3e",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nmsg.silent = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 840,
        "y": 100,
        "wires": [
            [
                "f61cb3b1.9d5bf8"
            ]
        ]
    },
    {
        "id": "f61cb3b1.9d5bf8",
        "type": "Cache in",
        "z": "304c61e3.487f3e",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 970,
        "y": 100,
        "wires": [
            [
                "b0b2582b.6916b8"
            ]
        ]
    },
    {
        "id": "b0b2582b.6916b8",
        "type": "switch",
        "z": "304c61e3.487f3e",
        "name": "",
        "property": "data.pauseId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1090,
        "y": 100,
        "wires": [
            [
                "c44d040d.faada"
            ]
        ]
    },
    {
        "id": "c44d040d.faada",
        "type": "link out",
        "z": "304c61e3.487f3e",
        "name": "",
        "links": [
            "7be3022.2d73e7c"
        ],
        "x": 1175,
        "y": 100,
        "wires": []
    },
    {
        "id": "272881db.b4fb1e",
        "type": "link in",
        "z": "1cab082b.fb38c8",
        "name": "Blink blue slow",
        "links": [
            "ababc252.53894",
            "fb81025f.17e238",
            "65ccd07f.861dd8"
        ],
        "x": 195,
        "y": 1140,
        "wires": [
            [
                "d052086a.3c2298"
            ]
        ]
    },
    {
        "id": "ababc252.53894",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "a112003a.2d4e98",
            "272881db.b4fb1e"
        ],
        "x": 975,
        "y": 1120,
        "wires": []
    },
    {
        "id": "734627f3.e3382",
        "type": "delay",
        "z": "1cab082b.fb38c8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 700,
        "y": 1140,
        "wires": [
            [
                "a2e88345.3543"
            ]
        ]
    },
    {
        "id": "a2e88345.3543",
        "type": "switch",
        "z": "1cab082b.fb38c8",
        "name": "",
        "property": "blinkBlue",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 860,
        "y": 1140,
        "wires": [
            [
                "ababc252.53894"
            ],
            [
                "fb81025f.17e238"
            ]
        ]
    },
    {
        "id": "fb81025f.17e238",
        "type": "link out",
        "z": "1cab082b.fb38c8",
        "name": "",
        "links": [
            "84e14fe3.889238",
            "272881db.b4fb1e"
        ],
        "x": 975,
        "y": 1160,
        "wires": []
    },
    {
        "id": "ba156105.da257",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "toggle",
        "func": "if (msg.data.pauseId) {\n    if(msg.blinkBlue === undefined) msg.blinkBlue = false;  \n    msg.blinkBlue = !msg.blinkBlue;\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 1140,
        "wires": [
            [
                "734627f3.e3382"
            ]
        ]
    },
    {
        "id": "e9d45a4.ae12328",
        "type": "Cache in",
        "z": "1cab082b.fb38c8",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 430,
        "y": 1140,
        "wires": [
            [
                "ba156105.da257"
            ]
        ]
    },
    {
        "id": "d052086a.3c2298",
        "type": "function",
        "z": "1cab082b.fb38c8",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 1140,
        "wires": [
            [
                "e9d45a4.ae12328"
            ]
        ]
    },
    {
        "id": "8e30d180.6f1e3",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Set TTS-Text",
        "func": "if (msg.data.pauseId && msg.payload.statusChanged) {\n    msg.payload = 'Die Box ist im Pause-Modus. Ihr könnt keine Aktionen ' + \n        'ausführen. Bitte erst Pause beenden!'\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1070,
        "y": 480,
        "wires": [
            [
                "b377ef30.b61388"
            ]
        ]
    },
    {
        "id": "b377ef30.b61388",
        "type": "link out",
        "z": "8dabec9e.c5e4a",
        "name": "",
        "links": [
            "1e2575d4.ce0292"
        ],
        "x": 1175,
        "y": 480,
        "wires": []
    },
    {
        "id": "675d07db.e1665",
        "type": "link in",
        "z": "33138393.b37e7c",
        "name": "Send regelmässig Tags während Pause",
        "links": [
            "e9780507.158dc8"
        ],
        "x": 155,
        "y": 940,
        "wires": [
            [
                "4c63541c.154bf4"
            ]
        ]
    },
    {
        "id": "4c63541c.154bf4",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 260,
        "y": 940,
        "wires": [
            [
                "d3d12aaf.b6ff3"
            ]
        ]
    },
    {
        "id": "d3d12aaf.b6ff3",
        "type": "Cache in",
        "z": "33138393.b37e7c",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 390,
        "y": 940,
        "wires": [
            [
                "74e08bda.448eb4"
            ]
        ]
    },
    {
        "id": "74e08bda.448eb4",
        "type": "switch",
        "z": "33138393.b37e7c",
        "name": "Pause?",
        "property": "data.pauseId",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 530,
        "y": 940,
        "wires": [
            [
                "373220f0.0e2138",
                "2993902.e951ef"
            ]
        ]
    },
    {
        "id": "373220f0.0e2138",
        "type": "delay",
        "z": "33138393.b37e7c",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 720,
        "y": 880,
        "wires": [
            [
                "4c63541c.154bf4"
            ]
        ]
    },
    {
        "id": "d37f45be.72bcf8",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "b0d7f9a6.44b03",
            "2640d25f.bdc52e"
        ],
        "x": 855,
        "y": 940,
        "wires": []
    },
    {
        "id": "2993902.e951ef",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Tag to Payload",
        "func": "msg.payload = {\n    uid: msg.data.phase.uid,\n    timestamp: Date.now(),\n    status: \"Tag\",\n    statusChanged: false,\n    type: null,\n    memory: null\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 710,
        "y": 940,
        "wires": [
            [
                "d37f45be.72bcf8"
            ]
        ]
    },
    {
        "id": "4f0c5332.f0237c",
        "type": "delay",
        "z": "33138393.b37e7c",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1560,
        "y": 300,
        "wires": [
            [
                "e9780507.158dc8"
            ]
        ]
    },
    {
        "id": "e9780507.158dc8",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "675d07db.e1665"
        ],
        "x": 1695,
        "y": 300,
        "wires": []
    },
    {
        "id": "3d900126.c2ecee",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set TTS-Text",
        "func": "if (msg.data.pauseId && !msg.silent) {\n    msg.payload = 'Die Pause wurde gestartet!';\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1470,
        "y": 360,
        "wires": [
            [
                "c139bd15.8a07f8",
                "65ccd07f.861dd8",
                "bdc39c7.2ca246"
            ]
        ]
    },
    {
        "id": "d751e555.0711c",
        "type": "function",
        "z": "8dabec9e.c5e4a",
        "name": "Pause?",
        "func": "if (!msg.data.pauseId) return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1000,
        "y": 560,
        "wires": [
            [
                "d1b4ff4f.22db58"
            ]
        ]
    },
    {
        "id": "2c17010d.7e8cce",
        "type": "Cache out",
        "z": "33138393.b37e7c",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1820,
        "y": 400,
        "wires": []
    },
    {
        "id": "bdc39c7.2ca246",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.LED = 'blue'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1680,
        "y": 400,
        "wires": [
            [
                "2c17010d.7e8cce"
            ]
        ]
    },
    {
        "id": "72b786e6.ddb7d",
        "type": "function",
        "z": "33138393.b37e7c",
        "name": "Set Topic",
        "func": "msg.LED = 'green'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1680,
        "y": 520,
        "wires": [
            [
                "48854a2f.aed0bc"
            ]
        ]
    },
    {
        "id": "48854a2f.aed0bc",
        "type": "Cache out",
        "z": "33138393.b37e7c",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1820,
        "y": 520,
        "wires": []
    },
    {
        "id": "65ccd07f.861dd8",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "272881db.b4fb1e"
        ],
        "x": 1635,
        "y": 360,
        "wires": []
    },
    {
        "id": "3fa6beea.f7d012",
        "type": "link out",
        "z": "33138393.b37e7c",
        "name": "",
        "links": [
            "1cefe3e8.30edfc"
        ],
        "x": 1635,
        "y": 560,
        "wires": []
    },
    {
        "id": "1d789f55.80b1c9",
        "type": "link out",
        "z": "2b90fa41.6ed2b6",
        "name": "",
        "links": [
            "6fd379d5.34bb"
        ],
        "x": 1375,
        "y": 440,
        "wires": []
    },
    {
        "id": "c041ae70.aa429",
        "type": "link in",
        "z": "f7f8c39.bc0dcc",
        "name": "StartTimer",
        "links": [
            "b8eaaf7b.7e1778"
        ],
        "x": 135,
        "y": 980,
        "wires": [
            [
                "fa40d871.372e68",
                "e4dce967.a697f8",
                "a3cf3dc0.7d6bc",
                "93e4f659.f6fa1"
            ]
        ]
    },
    {
        "id": "3f48a1f.c50385e",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 440,
        "y": 900,
        "wires": []
    },
    {
        "id": "fa40d871.372e68",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "5109617f.0ce6b"
        ],
        "x": 255,
        "y": 1060,
        "wires": []
    },
    {
        "id": "e4dce967.a697f8",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenSlow';\nmsg.payload = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 900,
        "wires": [
            [
                "3f48a1f.c50385e"
            ]
        ]
    },
    {
        "id": "a3cf3dc0.7d6bc",
        "type": "delay",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "pauseType": "delay",
        "timeout": "50",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 330,
        "y": 980,
        "wires": [
            [
                "5cf0939d.0a4fac"
            ]
        ]
    },
    {
        "id": "fa9780ce.361458",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1110,
        "y": 980,
        "wires": []
    },
    {
        "id": "b8089188.c356e8",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenSlow';\nmsg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 980,
        "wires": [
            [
                "fa9780ce.361458"
            ]
        ]
    },
    {
        "id": "643e9050.7e193",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1110,
        "y": 920,
        "wires": []
    },
    {
        "id": "6188ed9c.6638fc",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenFast';\nmsg.payload = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 970,
        "y": 920,
        "wires": [
            [
                "643e9050.7e193"
            ]
        ]
    },
    {
        "id": "64a2569.ab2dfa8",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "payload",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1730,
        "y": 760,
        "wires": []
    },
    {
        "id": "b792377a.eec61",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'blinkGreenFast';\nmsg.payload = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1590,
        "y": 760,
        "wires": [
            [
                "64a2569.ab2dfa8"
            ]
        ]
    },
    {
        "id": "5ff7af71.332448",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "5099229b.44e55c"
        ],
        "x": 935,
        "y": 1040,
        "wires": []
    },
    {
        "id": "eec9495d.b16da",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "1cefe3e8.30edfc"
        ],
        "x": 1545,
        "y": 880,
        "wires": []
    },
    {
        "id": "d48f4725.1daf68",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Speichere LED",
        "func": "msg.LED = 'green'\nmsg.topic = 'LED';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1610,
        "y": 940,
        "wires": [
            [
                "96ceaf51.e8834"
            ]
        ]
    },
    {
        "id": "96ceaf51.e8834",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Control",
        "cache": "88eb8b66.28014",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "LED",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1770,
        "y": 940,
        "wires": []
    },
    {
        "id": "c38c8d1b.8cf4c",
        "type": "file",
        "z": "f7f8c39.bc0dcc",
        "name": "StartReading",
        "filename": "/home/pi/DTDokuTool/temp/continueRFID.tmp",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1810,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "e129b6e7.5dc148",
        "type": "delay",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1610,
        "y": 820,
        "wires": [
            [
                "c38c8d1b.8cf4c"
            ]
        ]
    },
    {
        "id": "3229578a.40ce08",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Variable",
        "func": "msg.data.timerRuns = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 840,
        "wires": [
            [
                "ca2054af.a25f78"
            ]
        ]
    },
    {
        "id": "ca2054af.a25f78",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 710,
        "y": 840,
        "wires": []
    },
    {
        "id": "f876b55e.f68ec",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nmsg.data.timerRuns = false;\nmsg.data.reflectionRuns = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1590,
        "y": 700,
        "wires": [
            [
                "95b6678a.ab12d8"
            ]
        ]
    },
    {
        "id": "95b6678a.ab12d8",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1720,
        "y": 700,
        "wires": []
    },
    {
        "id": "95727d58.87615",
        "type": "file",
        "z": "d0f291c6.2d3188",
        "name": "StartRedButtonListening",
        "filename": "/home/pi/DTDokuTool/temp/checkStopButton.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 490,
        "y": 540,
        "wires": [
            [
                "2beb6730.186938"
            ]
        ]
    },
    {
        "id": "2beb6730.186938",
        "type": "exec",
        "z": "d0f291c6.2d3188",
        "command": "node",
        "addpay": false,
        "append": "~/DTDokuTool/checkButtonRedHold.js",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 690,
        "y": 540,
        "wires": [
            [
                "f4391feb.a8aef"
            ],
            [],
            []
        ]
    },
    {
        "id": "fef3d8f5.73bd68",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "payload.status",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "stop",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 970,
        "y": 540,
        "wires": [
            [
                "14dba3a9.fdb074"
            ]
        ]
    },
    {
        "id": "f4391feb.a8aef",
        "type": "json",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 830,
        "y": 540,
        "wires": [
            [
                "fef3d8f5.73bd68"
            ]
        ]
    },
    {
        "id": "521660d1.fb6ab",
        "type": "file",
        "z": "d0f291c6.2d3188",
        "name": "StopRedButtonListening",
        "filename": "/home/pi/DTDokuTool/temp/checkStopButton.tmp",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 1950,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "cca270d6.6399",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 700,
        "y": 300,
        "wires": [
            [
                "fd775703.e20dd"
            ]
        ]
    },
    {
        "id": "fc8cf704.37e9e8",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "",
        "property": "data.reading",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1340,
        "y": 300,
        "wires": [
            [
                "59c64cb6.3f9834"
            ]
        ]
    },
    {
        "id": "a4497a6f.629ee8",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "Timer läuft?",
        "property": "data.timerRuns",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 990,
        "y": 300,
        "wires": [
            [
                "dcdde810.ffa448",
                "70d8a1e6.b3e618",
                "709573c7.2b226c",
                "8e4ee085.4dba28",
                "4ffdc7e6.23936",
                "eaf19c6d.b170f"
            ]
        ]
    },
    {
        "id": "bffb1f18.96efa8",
        "type": "switch",
        "z": "d0f291c6.2d3188",
        "name": "Timer läuft?",
        "property": "data.timerRuns",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1670,
        "y": 300,
        "wires": [
            [
                "ff510cc7.a956c8",
                "300c08b3.40d8",
                "d7ebfb75.56e49",
                "fdd49344.ce39d8",
                "85f68d08.3f4c",
                "9d08ce01.b233c8",
                "8b8ec671.3837",
                "521660d1.fb6ab"
            ]
        ]
    },
    {
        "id": "db9bb02a.92a238",
        "type": "Cache in",
        "z": "d0f291c6.2d3188",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 1270,
        "y": 540,
        "wires": [
            [
                "bffb1f18.96efa8",
                "70d8a1e6.b3e618"
            ]
        ]
    },
    {
        "id": "14dba3a9.fdb074",
        "type": "function",
        "z": "d0f291c6.2d3188",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1120,
        "y": 540,
        "wires": [
            [
                "db9bb02a.92a238"
            ]
        ]
    },
    {
        "id": "b8eaaf7b.7e1778",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "c041ae70.aa429"
        ],
        "x": 995,
        "y": 480,
        "wires": []
    },
    {
        "id": "7f644e08.bb3f6",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 650,
        "y": 980,
        "wires": [
            [
                "5c90e32f.640a14"
            ]
        ]
    },
    {
        "id": "5cf0939d.0a4fac",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 520,
        "y": 980,
        "wires": [
            [
                "7f644e08.bb3f6"
            ]
        ]
    },
    {
        "id": "5c90e32f.640a14",
        "type": "switch",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "property": "data.timerRuns",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 770,
        "y": 980,
        "wires": [
            [
                "6188ed9c.6638fc",
                "b8089188.c356e8",
                "5ff7af71.332448"
            ]
        ]
    },
    {
        "id": "a174718c.12d3b8",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 1410,
        "y": 820,
        "wires": [
            [
                "f876b55e.f68ec",
                "b792377a.eec61",
                "e129b6e7.5dc148",
                "eec9495d.b16da",
                "d48f4725.1daf68"
            ]
        ]
    },
    {
        "id": "b5a38db1.e590e8",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1280,
        "y": 820,
        "wires": [
            [
                "a174718c.12d3b8"
            ]
        ]
    },
    {
        "id": "640e8a8f.0df75c",
        "type": "Cache in",
        "z": "6cfd0ced.5ef174",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 1550,
        "y": 360,
        "wires": [
            [
                "fe9995eb.d7e13"
            ]
        ]
    },
    {
        "id": "85bb8690.86df2",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1420,
        "y": 360,
        "wires": [
            [
                "640e8a8f.0df75c"
            ]
        ]
    },
    {
        "id": "74648520.2841cc",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 430,
        "y": 840,
        "wires": [
            [
                "3229578a.40ce08"
            ]
        ]
    },
    {
        "id": "93e4f659.f6fa1",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 300,
        "y": 840,
        "wires": [
            [
                "74648520.2841cc"
            ]
        ]
    },
    {
        "id": "ec6d97e4.bbdcd",
        "type": "link in",
        "z": "f7f8c39.bc0dcc",
        "name": "Send regelmässig Tags während Reflexion",
        "links": [
            "fd1a5b31.e775e8",
            "dc64eee6.12691",
            "a36fd8a6.4c6ac",
            "6aba0074.a0be68"
        ],
        "x": 135,
        "y": 1160,
        "wires": [
            [
                "8c636895.d319a"
            ]
        ]
    },
    {
        "id": "8c636895.d319a",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 1160,
        "wires": [
            [
                "c399c693.2ffc18"
            ]
        ]
    },
    {
        "id": "c399c693.2ffc18",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 370,
        "y": 1160,
        "wires": [
            [
                "81d78c7a.b625"
            ]
        ]
    },
    {
        "id": "81d78c7a.b625",
        "type": "switch",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "property": "data.reflectionRuns",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 500,
        "y": 1160,
        "wires": [
            [
                "8b8dc13a.390568",
                "1adae420.fc8804"
            ]
        ]
    },
    {
        "id": "8b8dc13a.390568",
        "type": "delay",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 700,
        "y": 1100,
        "wires": [
            [
                "8c636895.d319a"
            ]
        ]
    },
    {
        "id": "c9d428b8.a55a38",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "f01a7dbd.f462b"
        ],
        "x": 835,
        "y": 1160,
        "wires": []
    },
    {
        "id": "1adae420.fc8804",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Tag to Payload",
        "func": "msg.payload = {\n    uid: null,\n    timestamp: Date.now(),\n    status: \"Tag\",\n    statusChanged: false,\n    type: null,\n    memory: null\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 690,
        "y": 1160,
        "wires": [
            [
                "c9d428b8.a55a38"
            ]
        ]
    },
    {
        "id": "924aabcf.8b54d8",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Variable",
        "func": "msg.data.reflectionRuns = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 550,
        "y": 160,
        "wires": [
            [
                "55ccf6f5.f278f8",
                "5d20361.bf007c8"
            ]
        ]
    },
    {
        "id": "55ccf6f5.f278f8",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 690,
        "y": 160,
        "wires": []
    },
    {
        "id": "a93dd83b.c90248",
        "type": "Cache in",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 410,
        "y": 160,
        "wires": [
            [
                "924aabcf.8b54d8"
            ]
        ]
    },
    {
        "id": "bcafa310.e8dda",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 280,
        "y": 160,
        "wires": [
            [
                "a93dd83b.c90248"
            ]
        ]
    },
    {
        "id": "5d20361.bf007c8",
        "type": "delay",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 770,
        "y": 100,
        "wires": [
            [
                "a36fd8a6.4c6ac"
            ]
        ]
    },
    {
        "id": "a36fd8a6.4c6ac",
        "type": "link out",
        "z": "f7f8c39.bc0dcc",
        "name": "",
        "links": [
            "ec6d97e4.bbdcd"
        ],
        "x": 905,
        "y": 100,
        "wires": []
    },
    {
        "id": "8b3d3c08.c986a8",
        "type": "function",
        "z": "f7f8c39.bc0dcc",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nmsg.data.reflectionRuns = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1380,
        "y": 120,
        "wires": [
            [
                "24c32e47.84862a"
            ]
        ]
    },
    {
        "id": "24c32e47.84862a",
        "type": "Cache out",
        "z": "f7f8c39.bc0dcc",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1510,
        "y": 120,
        "wires": []
    },
    {
        "id": "9be0dcb4.caf1e8",
        "type": "http request",
        "z": "6cfd0ced.5ef174",
        "name": "SendTag",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://192.168.0.48:3000/phase",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 960,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "4131183d.3edc98",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Request",
        "func": "const token = msg.connection.auth.accessToken;\nconst connectionOK = msg.connection.connectionOK;\n\nmsg.headers = {\n    Authorization: \"Bearer \" + token\n}\n\nmsg.payload = {\n    team: msg.data.team,\n    phase: null,\n    tag: null\n}\n\nif (connectionOK && token && msg.payload !== '') return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 810,
        "y": 560,
        "wires": [
            [
                "9be0dcb4.caf1e8"
            ]
        ]
    },
    {
        "id": "c965468d.d5b28",
        "type": "Cache in",
        "z": "6cfd0ced.5ef174",
        "name": "Connection",
        "cache": "e99911c9.493d68",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "connection",
        "useString": false,
        "outputs": 1,
        "x": 390,
        "y": 560,
        "wires": [
            [
                "d0114167.0b3db"
            ]
        ]
    },
    {
        "id": "aae5699b.ae4208",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'Connection';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 240,
        "y": 560,
        "wires": [
            [
                "c965468d.d5b28"
            ]
        ]
    },
    {
        "id": "671db20b.31fabc",
        "type": "Cache in",
        "z": "6cfd0ced.5ef174",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "useString": false,
        "outputs": 1,
        "x": 670,
        "y": 560,
        "wires": [
            [
                "4131183d.3edc98"
            ]
        ]
    },
    {
        "id": "d0114167.0b3db",
        "type": "function",
        "z": "6cfd0ced.5ef174",
        "name": "Set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 560,
        "wires": [
            [
                "671db20b.31fabc"
            ]
        ]
    },
    {
        "id": "f01a7dbd.f462b",
        "type": "link in",
        "z": "6cfd0ced.5ef174",
        "name": "Send Empty Data",
        "links": [
            "c9d428b8.a55a38"
        ],
        "x": 135,
        "y": 560,
        "wires": [
            [
                "aae5699b.ae4208"
            ]
        ]
    },
    {
        "id": "9dd2bfd0.35f0f",
        "type": "function",
        "z": "2b90fa41.6ed2b6",
        "name": "set Topic",
        "func": "msg.topic = 'Data';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1240,
        "y": 100,
        "wires": [
            [
                "e3d12dc0.8a1f28"
            ]
        ]
    },
    {
        "id": "e3d12dc0.8a1f28",
        "type": "Cache out",
        "z": "2b90fa41.6ed2b6",
        "name": "Data",
        "cache": "f1850f8b.15a5",
        "keyType": "msg",
        "keyProperty": "topic",
        "valueType": "msg",
        "valueProperty": "data",
        "ttlType": "msg",
        "ttlProperty": "",
        "useString": false,
        "x": 1370,
        "y": 100,
        "wires": []
    },
    {
        "id": "fc45c376.cdbfc",
        "type": "trigger",
        "z": "3a1e4ba0.2c27f4",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 80,
        "wires": [
            [
                "e0fad523.7e1188"
            ]
        ]
    },
    {
        "id": "e0fad523.7e1188",
        "type": "rpi-gpio out",
        "z": "3a1e4ba0.2c27f4",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1250,
        "y": 80,
        "wires": []
    },
    {
        "id": "137dc69d.4fa421",
        "type": "switch",
        "z": "3a1e4ba0.2c27f4",
        "name": "Gestoppt?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "redButtonStopped",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 950,
        "y": 80,
        "wires": [
            [
                "fc45c376.cdbfc"
            ]
        ]
    },
    {
        "id": "da73dcfa.6accd8",
        "type": "trigger",
        "z": "2b90fa41.6ed2b6",
        "name": "Trigger",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1270,
        "y": 40,
        "wires": [
            [
                "c52f2558.94794"
            ]
        ]
    },
    {
        "id": "c52f2558.94794",
        "type": "rpi-gpio out",
        "z": "2b90fa41.6ed2b6",
        "name": "Beeper",
        "pin": "7",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "x": 1410,
        "y": 40,
        "wires": []
    },
    {
        "id": "6ac66943.f7b788",
        "type": "switch",
        "z": "2b90fa41.6ed2b6",
        "name": "Gestoppt?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "redButtonStopped",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1110,
        "y": 40,
        "wires": [
            [
                "da73dcfa.6accd8"
            ]
        ]
    }
]